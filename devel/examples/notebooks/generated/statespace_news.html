


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../_static/favicon.ico">
    
    
  
      
        <title>Forecasting, updating datasets, and the “news” - statsmodels 0.15.0 (+454)</title>
      
    
  <link rel="icon" type="image/png" sizes="32x32" href="../../../_static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../../_static/icons/favicon-16x16.png">
  <link rel="manifest" href="../../../_static/icons/site.webmanifest">
  <link rel="mask-icon" href="../../../_static/icons/safari-pinned-tab.svg" color="#919191">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="msapplication-config" content="../../../_static/icons/browserconfig.xml">
  <link rel="stylesheet" href="../../../_static/stylesheets/examples.css">
  <link rel="stylesheet" href="../../../_static/stylesheets/deprecation.css">
    
      
        
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_immaterial_theme.3625f807144f53acf.min.css?v=fbfc4466" />
        <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
        <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
        <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#Simple-univariate-example:-AR(1)" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="statsmodels 0.15.0 (+454)" class="md-header__button md-logo" aria-label="statsmodels 0.15.0 (+454)" data-md-component="logo">
      <img src="../../../_static/statsmodels-logo-v2-bw.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            statsmodels 0.15.0 (+454)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Forecasting, updating datasets, and the “news”
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/statsmodels/statsmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="statsmodels 0.15.0 (+454)" class="md-nav__button md-logo" aria-label="statsmodels 0.15.0 (+454)" data-md-component="logo">
      <img src="../../../_static/statsmodels-logo-v2-bw.svg" alt="logo">
    </a>
    statsmodels 0.15.0 (+454)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/statsmodels/statsmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install.html" class="md-nav__link">
        <span title="/install.rst (reference label)" class="md-ellipsis">Installing statsmodels</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gettingstarted.html" class="md-nav__link">
        <span title="/gettingstarted.rst (reference label)" class="md-ellipsis">Getting started</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide.html" class="md-nav__link">
        <span title="/user-guide.rst (reference label)" class="md-ellipsis">User Guide</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../index.html"><span title="/examples/index.rst (reference label)" class="md-ellipsis">Examples</span></a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <span title="/examples/index.rst (reference label)" class="md-ellipsis">Examples</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#linear-regression-models" class="md-nav__link">
        <span title="/examples/index.rst#linear-regression-models (reference label)" class="md-ellipsis">Linear Regression Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#plotting" class="md-nav__link">
        <span title="/examples/index.rst#plotting (reference label)" class="md-ellipsis">Plotting</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#discrete-choice-models" class="md-nav__link">
        <span title="/examples/index.rst#discrete-choice-models (reference label)" class="md-ellipsis">Discrete Choice Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#nonparametric-statistics" class="md-nav__link">
        <span title="/examples/index.rst#nonparametric-statistics (reference label)" class="md-ellipsis">Nonparametric Statistics</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#generalized-linear-models" class="md-nav__link">
        <span title="/examples/index.rst#generalized-linear-models (reference label)" class="md-ellipsis">Generalized Linear Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#robust-regression" class="md-nav__link">
        <span title="/examples/index.rst#robust-regression (reference label)" class="md-ellipsis">Robust Regression</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#generalized-estimating-equations" class="md-nav__link">
        <span title="/examples/index.rst#generalized-estimating-equations (reference label)" class="md-ellipsis">Generalized Estimating Equations</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#statistics" class="md-nav__link">
        <span title="/examples/index.rst#statistics (reference label)" class="md-ellipsis">Statistics</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#time-series-analysis" class="md-nav__link">
        <span title="/examples/index.rst#time-series-analysis (reference label)" class="md-ellipsis">Time Series Analysis</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10" type="checkbox" id="__nav_4_10" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../index.html#state-space-models"><span title="/examples/index.rst#state-space-models (reference label)" class="md-ellipsis">State space models</span></a>
          
            <label for="__nav_4_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="State space models" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          <span title="/examples/index.rst#state-space-models (reference label)" class="md-ellipsis">State space models</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_sarimax_stata.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_sarimax_stata.ipynb (reference label)" class="md-ellipsis">SARIMAX:<wbr> Introduction</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_sarimax_faq.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_sarimax_faq.ipynb (reference label)" class="md-ellipsis">SARIMAX and ARIMA:<wbr> Frequently Asked Questions <wbr>(FAQ)</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_dfm_coincident.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_dfm_coincident.ipynb (reference label)" class="md-ellipsis">Dynamic factors and coincident indices</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_structural_harvey_jaeger.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_structural_harvey_jaeger.ipynb (reference label)" class="md-ellipsis">Detrending, Stylized Facts and the Business Cycle</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_cycles.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_cycles.ipynb (reference label)" class="md-ellipsis">Trends and cycles in unemployment</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_arma_0.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_arma_0.ipynb (reference label)" class="md-ellipsis">Autoregressive Moving Average <wbr>(ARMA):<wbr> Sunspots data</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_seasonal.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_seasonal.ipynb (reference label)" class="md-ellipsis">Seasonality in time series data</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_fixed_params.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_fixed_params.ipynb (reference label)" class="md-ellipsis">Estimating or specifying parameters in state space models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_tvpvar_mcmc_cfa.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_tvpvar_mcmc_cfa.ipynb (reference label)" class="md-ellipsis">TVP-<wbr>VAR, MCMC, and sparse simulation smoothing</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span title="/examples/notebooks/generated/statespace_news.ipynb (reference label)" class="md-ellipsis">Forecasting, updating datasets, and the “news”</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span title="/examples/notebooks/generated/statespace_news.ipynb (reference label)" class="md-ellipsis">Forecasting, updating datasets, and the “news”</span>
      </a>
      
        

  

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#Simple-univariate-example:-AR(1)" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#simple-univariate-example:-ar(1) (reference label)" class="md-ellipsis">Simple univariate example:<wbr> AR<wbr>(1)</span>
  </a>
  
    <nav class="md-nav" aria-label="Simple univariate example: AR(1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Step-1:-fitting-the-model-on-the-available-dataset" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#step-1:-fitting-the-model-on-the-available-dataset (reference label)" class="md-ellipsis">Step 1:<wbr> fitting the model on the available dataset</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Step-2:-computing-the-%22news%22-from-a-new-observation" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#step-2:-computing-the-%22news%22-from-a-new-observation (reference label)" class="md-ellipsis">Step 2:<wbr> computing the “news” from a new observation</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Addendum:-manually-computing-the-news,-weights,-and-impacts" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#addendum:-manually-computing-the-news,-weights,-and-impacts (reference label)" class="md-ellipsis">Addendum:<wbr> manually computing the news, weights, and impacts</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Multivariate-example:-dynamic-factor" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#multivariate-example:-dynamic-factor (reference label)" class="md-ellipsis">Multivariate example:<wbr> dynamic factor</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Bibliography" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#bibliography (reference label)" class="md-ellipsis">Bibliography</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_custom_models.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_custom_models.ipynb (reference label)" class="md-ellipsis">Custom statespace models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="ets.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/ets.ipynb (reference label)" class="md-ellipsis">ETS models</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#state-space-models-technical-notes" class="md-nav__link">
        <span title="/examples/index.rst#state-space-models-technical-notes (reference label)" class="md-ellipsis">State space models -<wbr> Technical notes</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#forecasting" class="md-nav__link">
        <span title="/examples/index.rst#forecasting (reference label)" class="md-ellipsis">Forecasting</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#multivariate-methods" class="md-nav__link">
        <span title="/examples/index.rst#multivariate-methods (reference label)" class="md-ellipsis">Multivariate Methods</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#user-notes" class="md-nav__link">
        <span title="/examples/index.rst#user-notes (reference label)" class="md-ellipsis">User Notes</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api.html" class="md-nav__link">
        <span title="/api.rst (reference label)" class="md-ellipsis">API Reference</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about.html" class="md-nav__link">
        <span title="/about.rst (reference label)" class="md-ellipsis">About statsmodels</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/index.html" class="md-nav__link">
        <span title="/dev/index.rst (reference label)" class="md-ellipsis">Developer Page</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/index.html" class="md-nav__link">
        <span title="/release/index.rst (reference label)" class="md-ellipsis">Release Notes</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#Simple-univariate-example:-AR(1)" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#simple-univariate-example:-ar(1) (reference label)" class="md-ellipsis">Simple univariate example:<wbr> AR<wbr>(1)</span>
  </a>
  
    <nav class="md-nav" aria-label="Simple univariate example: AR(1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#Step-1:-fitting-the-model-on-the-available-dataset" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#step-1:-fitting-the-model-on-the-available-dataset (reference label)" class="md-ellipsis">Step 1:<wbr> fitting the model on the available dataset</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Step-2:-computing-the-%22news%22-from-a-new-observation" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#step-2:-computing-the-%22news%22-from-a-new-observation (reference label)" class="md-ellipsis">Step 2:<wbr> computing the “news” from a new observation</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#Addendum:-manually-computing-the-news,-weights,-and-impacts" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#addendum:-manually-computing-the-news,-weights,-and-impacts (reference label)" class="md-ellipsis">Addendum:<wbr> manually computing the news, weights, and impacts</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Multivariate-example:-dynamic-factor" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#multivariate-example:-dynamic-factor (reference label)" class="md-ellipsis">Multivariate example:<wbr> dynamic factor</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Bibliography" class="md-nav__link">
    <span title="/examples/notebooks/generated/statespace_news.ipynb#bibliography (reference label)" class="md-ellipsis">Bibliography</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="Forecasting,-updating-datasets,-and-the-%22news%22">Forecasting, updating datasets, and the “news”<a class="headerlink" href="#Forecasting,-updating-datasets,-and-the-%22news%22" title="Link to this heading">¶</a></h1>
<p>In this notebook, we describe how to use Statsmodels to compute the impacts of updated or revised datasets on out-of-sample forecasts or in-sample estimates of missing data. We follow the approach of the “Nowcasting” literature (see references at the end), by using a state space model to compute the “news” and impacts of incoming data.</p>
<p><strong>Note</strong>: this notebook applies to Statsmodels v0.12+. In addition, it only applies to the state space models or related classes, which are: <code class="docutils literal notranslate"><span class="pre">sm.tsa.statespace.ExponentialSmoothing</span></code>, <code class="docutils literal notranslate"><span class="pre">sm.tsa.arima.ARIMA</span></code>, <code class="docutils literal notranslate"><span class="pre">sm.tsa.SARIMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">sm.tsa.UnobservedComponents</span></code>, <code class="docutils literal notranslate"><span class="pre">sm.tsa.VARMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">sm.tsa.DynamicFactor</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[1]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">macrodata</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">macrodata</span><span class="o">.</span><span class="n">load_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
<span class="n">macrodata</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="s1">&#39;1959Q1&#39;</span><span class="p">,</span> <span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<p>Forecasting exercises often start with a fixed set of historical data that is used for model selection and parameter estimation. Then, the fitted selected model (or models) can be used to create out-of-sample forecasts. Most of the time, this is not the end of the story. As new data comes in, you may need to evaluate your forecast errors, possibly update your models, and create updated out-of-sample forecasts. This is sometimes called a “real-time” forecasting exercise (by contrast, a pseudo
real-time exercise is one in which you simulate this procedure).</p>
<p>If all that matters is minimizing some loss function based on forecast errors (like MSE), then when new data comes in you may just want to completely redo model selection, parameter estimation and out-of-sample forecasting, using the updated datapoints. If you do this, your new forecasts will have changed for two reasons:</p>
<ol class="arabic simple">
<li><p>You have received new data that gives you new information</p></li>
<li><p>Your forecasting model or the estimated parameters are different</p></li>
</ol>
<p>In this notebook, we focus on methods for isolating the first effect. The way we do this comes from the so-called “nowcasting” literature, and in particular Bańbura, Giannone, and Reichlin (2011), Bańbura and Modugno (2014), and Bańbura et al. (2014). They describe this exercise as computing the “<strong>news</strong>”, and we follow them in using this language in Statsmodels.</p>
<p>These methods are perhaps most useful with multivariate models, since there multiple variables may update at the same time, and it is not immediately obvious what forecast change was created by what updated variable. However, they can still be useful for thinking about forecast revisions in univariate models. We will therefore start with the simpler univariate case to explain how things work, and then move to the multivariate case afterwards.</p>
<p><strong>Note on revisions</strong>: the framework that we are using is designed to decompose changes to forecasts from newly observed datapoints. It can also take into account <em>revisions</em> to previously published datapoints, but it does not decompose them separately. Instead, it only shows the aggregate effect of “revisions”.</p>
<p><strong>Note on ``exog`` data</strong>: the framework that we are using only decomposes changes to forecasts from newly observed datapoints for <em>modeled</em> variables. These are the “left-hand-side” variables that in Statsmodels are given in the <code class="docutils literal notranslate"><span class="pre">endog</span></code> arguments. This framework does not decompose or account for changes to unmodeled “right-hand-side” variables, like those included in the <code class="docutils literal notranslate"><span class="pre">exog</span></code> argument.</p>
<h2 id="Simple-univariate-example:-AR(1)">Simple univariate example: AR(1)<a class="headerlink" href="#Simple-univariate-example:-AR(1)" title="Link to this heading">¶</a></h2>
<p>We will begin with a simple autoregressive model, an AR(1):</p>
<div class="math notranslate nohighlight">
\[y_t = \phi y_{t-1} + \varepsilon_t\]</div>
<ul class="simple">
<li><p>The parameter <span class="math notranslate nohighlight">\(\phi\)</span> captures the persistence of the series</p></li>
</ul>
<p>We will use this model to forecast inflation.</p>
<p>To make it simpler to describe the forecast updates in this notebook, we will work with inflation data that has been de-meaned, but it is straightforward in practice to augment the model with a mean term.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[2]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># De-mean the inflation series</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">macrodata</span><span class="p">[</span><span class="s1">&#39;infl&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">macrodata</span><span class="p">[</span><span class="s1">&#39;infl&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<h3 id="Step-1:-fitting-the-model-on-the-available-dataset">Step 1: fitting the model on the available dataset<a class="headerlink" href="#Step-1:-fitting-the-model-on-the-available-dataset" title="Link to this heading">¶</a></h3>
<p>Here, we’ll simulate an out-of-sample exercise, by constructing and fitting our model using all of the data except the last five observations. We’ll assume that we haven’t observed these values yet, and then in subsequent steps we’ll add them back into the analysis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[3]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">y_pre</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
<span class="n">y_pre</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Inflation&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_statespace_news_9_0.png" src="../../../_images/examples_notebooks_generated_statespace_news_9_0.png" />
</div>
</div>
<p>To construct forecasts, we first estimate the parameters of the model. This returns a results object that we will be able to use produce forecasts.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[4]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">mod_pre</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">arima</span><span class="o">.</span><span class="n">ARIMA</span><span class="p">(</span><span class="n">y_pre</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="n">res_pre</span> <span class="o">=</span> <span class="n">mod_pre</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_pre</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                               SARIMAX Results
==============================================================================
Dep. Variable:                   infl   No. Observations:                  198
Model:                 ARIMA(1, 0, 0)   Log Likelihood                -446.407
Date:                Sat, 12 Oct 2024   AIC                            896.813
Time:                        17:01:10   BIC                            903.390
Sample:                    03-31-1959   HQIC                           899.475
                         - 06-30-2008
Covariance Type:                  opg
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
ar.L1          0.6751      0.043     15.858      0.000       0.592       0.759
sigma2         5.3027      0.367     14.459      0.000       4.584       6.022
===================================================================================
Ljung-Box (L1) (Q):                  15.65   Jarque-Bera (JB):                43.04
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               0.85   Skew:                             0.18
Prob(H) (two-sided):                  0.50   Kurtosis:                         5.26
===================================================================================

Warnings:
[1] Covariance matrix calculated using the outer product of gradients (complex-step).
</pre></div></div>
</div>
<p>Creating the forecasts from the results object <code class="docutils literal notranslate"><span class="pre">res</span></code> is easy - you can just call the <code class="docutils literal notranslate"><span class="pre">forecast</span></code> method with the number of forecasts you want to construct. In this case, we’ll construct four out-of-sample forecasts.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[5]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Compute the forecasts</span>
<span class="n">forecasts_pre</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Plot the last 3 years of data and the four out-of-sample forecasts</span>
<span class="n">y_pre</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">12</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">forecasts_pre</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Forecast&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_statespace_news_13_0.png" src="../../../_images/examples_notebooks_generated_statespace_news_13_0.png" />
</div>
</div>
<p>For the AR(1) model, it is also easy to manually construct the forecasts. Denoting the last observed variable as <span class="math notranslate nohighlight">\(y_T\)</span> and the <span class="math notranslate nohighlight">\(h\)</span>-step-ahead forecast as <span class="math notranslate nohighlight">\(y_{T+h|T}\)</span>, we have:</p>
<div class="math notranslate nohighlight">
\[y_{T+h|T} = \hat \phi^h y_T\]</div>
<p>Where <span class="math notranslate nohighlight">\(\hat \phi\)</span> is our estimated value for the AR(1) coefficient. From the summary output above, we can see that this is the first parameter of the model, which we can access from the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute of the results object.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[6]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Get the estimated AR(1) coefficient</span>
<span class="n">phi_hat</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Get the last observed value of the variable</span>
<span class="n">y_T</span> <span class="o">=</span> <span class="n">y_pre</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Directly compute the forecasts at the horizons h=1,2,3,4</span>
<span class="n">manual_forecasts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">phi_hat</span> <span class="o">*</span> <span class="n">y_T</span><span class="p">,</span> <span class="n">phi_hat</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">y_T</span><span class="p">,</span>
                              <span class="n">phi_hat</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">y_T</span><span class="p">,</span> <span class="n">phi_hat</span><span class="o">**</span><span class="mi">4</span> <span class="o">*</span> <span class="n">y_T</span><span class="p">],</span>
                             <span class="n">index</span><span class="o">=</span><span class="n">forecasts_pre</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># We&#39;ll print the two to double-check that they&#39;re the same</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">forecasts_pre</span><span class="p">,</span> <span class="n">manual_forecasts</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
        predicted_mean         0
2008Q3        3.084388  3.084388
2008Q4        2.082323  2.082323
2009Q1        1.405812  1.405812
2009Q2        0.949088  0.949088
</pre></div></div>
</div>
<h3 id="Step-2:-computing-the-%22news%22-from-a-new-observation">Step 2: computing the “news” from a new observation<a class="headerlink" href="#Step-2:-computing-the-%22news%22-from-a-new-observation" title="Link to this heading">¶</a></h3>
<p>Suppose that time has passed, and we have now received another observation. Our dataset is now larger, and we can evaluate our forecast error and produce updated forecasts for the subsequent quarters.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[7]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Get the next observation after the &quot;pre&quot; dataset</span>
<span class="n">y_update</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>

<span class="c1"># Print the forecast error</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Forecast error: </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">y_update</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">forecasts_pre</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Forecast error: -10.21
</pre></div></div>
</div>
<p>To compute forecasts based on our updated dataset, we will create an updated results object <code class="docutils literal notranslate"><span class="pre">res_post</span></code> using the <code class="docutils literal notranslate"><span class="pre">append</span></code> method, to append on our new observation to the previous dataset.</p>
<p>Note that by default, the <code class="docutils literal notranslate"><span class="pre">append</span></code> method does not re-estimate the parameters of the model. This is exactly what we want here, since we want to isolate the effect on the forecasts of the new information only.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[8]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Create a new results object by passing the new observations to the `append` method</span>
<span class="n">res_post</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_update</span><span class="p">)</span>

<span class="c1"># Since we now know the value for 2008Q3, we will only use `res_post` to</span>
<span class="c1"># produce forecasts for 2008Q4 through 2009Q2</span>
<span class="n">forecasts_post</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">y_update</span><span class="p">,</span> <span class="n">res_post</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="s1">&#39;2009Q2&#39;</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">forecasts_post</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2008Q3   -7.121330
2008Q4   -4.807732
2009Q1   -3.245783
2009Q2   -2.191284
Freq: Q-DEC, dtype: float64
</pre></div></div>
</div>
<p>In this case, the forecast error is quite large - inflation was more than 10 percentage points below the AR(1) models’ forecast. (This was largely because of large swings in oil prices around the global financial crisis).</p>
<p>To analyse this in more depth, we can use Statsmodels to isolate the effect of the new information - or the “<strong>news</strong>” - on our forecasts. This means that we do not yet want to change our model or re-estimate the parameters. Instead, we will use the <code class="docutils literal notranslate"><span class="pre">news</span></code> method that is available in the results objects of state space models.</p>
<p>Computing the news in Statsmodels always requires a <em>previous</em> results object or dataset, and an <em>updated</em> results object or dataset. Here we will use the original results object <code class="docutils literal notranslate"><span class="pre">res_pre</span></code> as the previous results and the <code class="docutils literal notranslate"><span class="pre">res_post</span></code> results object that we just created as the updated results.</p>
<p>Once we have previous and updated results objects or datasets, we can compute the news by calling the <code class="docutils literal notranslate"><span class="pre">news</span></code> method. Here, we will call <code class="docutils literal notranslate"><span class="pre">res_pre.news</span></code>, and the first argument will be the updated results, <code class="docutils literal notranslate"><span class="pre">res_post</span></code> (however, if you have two results objects, the <code class="docutils literal notranslate"><span class="pre">news</span></code> method could can be called on either one).</p>
<p>In addition to specifying the comparison object or dataset as the first argument, there are a variety of other arguments that are accepted. The most important specify the “impact periods” that you want to consider. These “impact periods” correspond to the forecasted periods of interest; i.e. these dates specify with periods will have forecast revisions decomposed.</p>
<p>To specify the impact periods, you must pass two of <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">end</span></code>, and <code class="docutils literal notranslate"><span class="pre">periods</span></code> (similar to the Pandas <code class="docutils literal notranslate"><span class="pre">date_range</span></code> method). If your time series was a Pandas object with an associated date or period index, then you can pass dates as values for <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code>, as we do below.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[9]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Compute the impact of the news on the four periods that we previously</span>
<span class="c1"># forecasted: 2008Q3 through 2009Q2</span>
<span class="n">news</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">news</span><span class="p">(</span><span class="n">res_post</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2008Q3&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2009Q2&#39;</span><span class="p">)</span>
<span class="c1"># Note: one alternative way to specify these impact dates is</span>
<span class="c1"># `start=&#39;2008Q3&#39;, periods=4`</span>
</code></pre></div>
</div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">news</span></code> is an object of the class <code class="docutils literal notranslate"><span class="pre">NewsResults</span></code>, and it contains details about the updates to the data in <code class="docutils literal notranslate"><span class="pre">res_post</span></code> compared to <code class="docutils literal notranslate"><span class="pre">res_pre</span></code>, the new information in the updated dataset, and the impact that the new information had on the forecasts in the period between <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code>.</p>
<p>One easy way to summarize the results are with the <code class="docutils literal notranslate"><span class="pre">summary</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[10]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                      News
===============================================================================
Model:                          ARIMA   Original sample:                 1959Q1
Date:                Sat, 12 Oct 2024                                  - 2008Q2
Time:                        17:01:10   Update through:                  2008Q3
                                        # of revisions:                       0
                                        # of new datapoints:                  1
          Impacts for [impacted variable = infl]
=========================================================
impact date estimate (prev) impact of news estimate (new)
---------------------------------------------------------
     2008Q3            3.08         -10.21          -7.12
     2008Q4            2.08          -6.89          -4.81
     2009Q1            1.41          -4.65          -3.25
     2009Q2            0.95          -3.14          -2.19
                  News from updated observations:
===================================================================
update date updated variable   observed forecast (prev)        news
-------------------------------------------------------------------
     2008Q3             infl      -7.12            3.08      -10.21
===================================================================
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    -7.12
Name: observed, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    3.08
Name: forecast (prev), dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    -10.21
Name: news, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
</pre></div></div>
</div>
<p><strong>Summary output</strong>: the default summary for this news results object printed four tables:</p>
<ol class="arabic simple">
<li><p>Summary of the model and datasets</p></li>
<li><p>Details of the news from updated data</p></li>
<li><p>Summary of the impacts of the new information on the forecasts between <code class="docutils literal notranslate"><span class="pre">start='2008Q3'</span></code> and <code class="docutils literal notranslate"><span class="pre">end='2009Q2'</span></code></p></li>
<li><p>Details of how the updated data led to the impacts on the forecasts between <code class="docutils literal notranslate"><span class="pre">start='2008Q3'</span></code> and <code class="docutils literal notranslate"><span class="pre">end='2009Q2'</span></code></p></li>
</ol>
<p>These are described in more detail below.</p>
<p><em>Notes</em>:</p>
<ul class="simple">
<li><p>There are a number of arguments that can be passed to the <code class="docutils literal notranslate"><span class="pre">summary</span></code> method to control this output. Check the documentation / docstring for details.</p></li>
<li><p>Table (4), showing details of the updates and impacts, can become quite large if the model is multivariate, there are multiple updates, or a large number of impact dates are selected. It is only shown by default for univariate models.</p></li>
</ul>
<p><strong>First table: summary of the model and datasets</strong></p>
<p>The first table, above, shows:</p>
<ul class="simple">
<li><p>The type of model from which the forecasts were made. Here this is an ARIMA model, since an AR(1) is a special case of an ARIMA(p,d,q) model.</p></li>
<li><p>The date and time at which the analysis was computed.</p></li>
<li><p>The original sample period, which here corresponds to <code class="docutils literal notranslate"><span class="pre">y_pre</span></code></p></li>
<li><p>The endpoint of the updated sample period, which here is the last date in <code class="docutils literal notranslate"><span class="pre">y_post</span></code></p></li>
</ul>
<p><strong>Second table: the news from updated data</strong></p>
<p>This table simply shows the forecasts from the previous results for observations that were updated in the updated sample.</p>
<p><em>Notes</em>:</p>
<ul class="simple">
<li><p>Our updated dataset <code class="docutils literal notranslate"><span class="pre">y_post</span></code> did not contain any <em>revisions</em> to previously observed datapoints. If it had, there would be an additional table showing the previous and updated values of each such revision.</p></li>
</ul>
<p><strong>Third table: summary of the impacts of the new information</strong></p>
<p><em>Columns</em>:</p>
<p>The third table, above, shows:</p>
<ul class="simple">
<li><p>The previous forecast for each of the impact dates, in the “estimate (prev)” column</p></li>
<li><p>The impact that the new information (the “news”) had on the forecasts for each of the impact dates, in the “impact of news” column</p></li>
<li><p>The updated forecast for each of the impact dates, in the “estimate (new)” column</p></li>
</ul>
<p><em>Notes</em>:</p>
<ul class="simple">
<li><p>In multivariate models, this table contains additional columns describing the relevant impacted variable for each row.</p></li>
<li><p>Our updated dataset <code class="docutils literal notranslate"><span class="pre">y_post</span></code> did not contain any <em>revisions</em> to previously observed datapoints. If it had, there would be additional columns in this table showing the impact of those revisions on the forecasts for the impact dates.</p></li>
<li><p>Note that <code class="docutils literal notranslate"><span class="pre">estimate</span> <span class="pre">(new)</span> <span class="pre">=</span> <span class="pre">estimate</span> <span class="pre">(prev)</span> <span class="pre">+</span> <span class="pre">impact</span> <span class="pre">of</span> <span class="pre">news</span></code></p></li>
<li><p>This table can be accessed independently using the <code class="docutils literal notranslate"><span class="pre">summary_impacts</span></code> method.</p></li>
</ul>
<p><em>In our example</em>:</p>
<p>Notice that in our example, the table shows the values that we computed earlier:</p>
<ul class="simple">
<li><p>The “estimate (prev)” column is identical to the forecasts from our previous model, contained in the <code class="docutils literal notranslate"><span class="pre">forecasts_pre</span></code> variable.</p></li>
<li><p>The “estimate (new)” column is identical to our <code class="docutils literal notranslate"><span class="pre">forecasts_post</span></code> variable, which contains the observed value for 2008Q3 and the forecasts from the updated model for 2008Q4 - 2009Q2.</p></li>
</ul>
<p><strong>Fourth table: details of updates and their impacts</strong></p>
<p>The fourth table, above, shows how each new observation translated into specific impacts at each impact date.</p>
<p><em>Columns</em>:</p>
<p>The first three columns table described the relevant <strong>update</strong> (an “updated” is a new observation):</p>
<ul class="simple">
<li><p>The first column (“update date”) shows the date of the variable that was updated.</p></li>
<li><p>The second column (“forecast (prev)”) shows the value that would have been forecasted for the update variable at the update date based on the previous results / dataset.</p></li>
<li><p>The third column (“observed”) shows the actual observed value of that updated variable / update date in the updated results / dataset.</p></li>
</ul>
<p>The last four columns described the <strong>impact</strong> of a given update (an impact is a changed forecast within the “impact periods”).</p>
<ul class="simple">
<li><p>The fourth column (“impact date”) gives the date at which the given update made an impact.</p></li>
<li><p>The fifth column (“news”) shows the “news” associated with the given update (this is the same for each impact of a given update, but is just not sparsified by default)</p></li>
<li><p>The sixth column (“weight”) describes the weight that the “news” from the given update has on the impacted variable at the impact date. In general, weights will be different between each “updated variable” / “update date” / “impacted variable” / “impact date” combination.</p></li>
<li><p>The seventh column (“impact”) shows the impact that the given update had on the given “impacted variable” / “impact date”.</p></li>
</ul>
<p><em>Notes</em>:</p>
<ul class="simple">
<li><p>In multivariate models, this table contains additional columns to show the relevant variable that was updated and variable that was impacted for each row. Here, there is only one variable (“infl”), so those columns are suppressed to save space.</p></li>
<li><p>By default, the updates in this table are “sparsified” with blanks, to avoid repeating the same values for “update date”, “forecast (prev)”, and “observed” for each row of the table. This behavior can be overridden using the <code class="docutils literal notranslate"><span class="pre">sparsify</span></code> argument.</p></li>
<li><p>Note that <code class="docutils literal notranslate"><span class="pre">impact</span> <span class="pre">=</span> <span class="pre">news</span> <span class="pre">*</span> <span class="pre">weight</span></code>.</p></li>
<li><p>This table can be accessed independently using the <code class="docutils literal notranslate"><span class="pre">summary_details</span></code> method.</p></li>
</ul>
<p><em>In our example</em>:</p>
<ul class="simple">
<li><p>For the update to 2008Q3 and impact date 2008Q3, the weight is equal to 1. This is because we only have one variable, and once we have incorporated the data for 2008Q3, there is no no remaining ambiguity about the “forecast” for this date. Thus all of the “news” about this variable at 2008Q3 passes through to the “forecast” directly.</p></li>
</ul>
<h3 id="Addendum:-manually-computing-the-news,-weights,-and-impacts">Addendum: manually computing the news, weights, and impacts<a class="headerlink" href="#Addendum:-manually-computing-the-news,-weights,-and-impacts" title="Link to this heading">¶</a></h3>
<p>For this simple example with a univariate model, it is straightforward to compute all of the values shown above by hand. First, recall the formula for forecasting <span class="math notranslate nohighlight">\(y_{T+h|T} = \phi^h y_T\)</span>, and note that it follows that we also have <span class="math notranslate nohighlight">\(y_{T+h|T+1} = \phi^h y_{T+1}\)</span>. Finally, note that <span class="math notranslate nohighlight">\(y_{T|T+1} = y_T\)</span>, because if we know the value of the observations through <span class="math notranslate nohighlight">\(T+1\)</span>, we know the value of <span class="math notranslate nohighlight">\(y_T\)</span>.</p>
<p><strong>News</strong>: The “news” is nothing more than the forecast error associated with one of the new observations. So the news associated with observation <span class="math notranslate nohighlight">\(T+1\)</span> is:</p>
<div class="math notranslate nohighlight">
\[n_{T+1} = y_{T+1} - y_{T+1|T} = Y_{T+1} - \phi Y_T\]</div>
<p><strong>Impacts</strong>: The impact of the news is the difference between the updated and previous forecasts, <span class="math notranslate nohighlight">\(i_h \equiv y_{T+h|T+1} - y_{T+h|T}\)</span>.</p>
<ul class="simple">
<li><p>The previous forecasts for <span class="math notranslate nohighlight">\(h=1, \dots, 4\)</span> are: <span class="math notranslate nohighlight">\(\begin{pmatrix} \phi y_T &amp; \phi^2 y_T &amp; \phi^3 y_T &amp; \phi^4 y_T \end{pmatrix}'\)</span>.</p></li>
<li><p>The updated forecasts for <span class="math notranslate nohighlight">\(h=1, \dots, 4\)</span> are: <span class="math notranslate nohighlight">\(\begin{pmatrix} y_{T+1} &amp; \phi y_{T+1} &amp; \phi^2 y_{T+1} &amp; \phi^3 y_{T+1} \end{pmatrix}'\)</span>.</p></li>
</ul>
<p>The impacts are therefore:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\{ i_h \}_{h=1}^4 = \begin{pmatrix} y_{T+1} - \phi y_T \\ \phi (Y_{T+1} - \phi y_T) \\ \phi^2 (Y_{T+1} - \phi y_T) \\ \phi^3 (Y_{T+1} - \phi y_T) \end{pmatrix}\end{split}\]</div>
<p><strong>Weights</strong>: To compute the weights, we just need to note that it is immediate that we can rewrite the impacts in terms of the forecast errors, <span class="math notranslate nohighlight">\(n_{T+1}\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\{ i_h \}_{h=1}^4 = \begin{pmatrix} 1 \\ \phi \\ \phi^2 \\ \phi^3 \end{pmatrix} n_{T+1}\end{split}\]</div>
<p>The weights are then simply <span class="math notranslate nohighlight">\(w = \begin{pmatrix} 1 \\ \phi \\ \phi^2 \\ \phi^3 \end{pmatrix}\)</span></p>
<p>We can check that this is what the <code class="docutils literal notranslate"><span class="pre">news</span></code> method has computed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[11]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Print the news, computed by the `news` method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">news</span><span class="p">)</span>

<span class="c1"># Manually compute the news</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">((</span><span class="n">y_update</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">phi_hat</span> <span class="o">*</span> <span class="n">y_pre</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
update date  updated variable
2008Q3       infl               -10.205718
Name: news, dtype: float64

-10.205718
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[12]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Print the total impacts, computed by the `news` method</span>
<span class="c1"># (Note: news.total_impacts = news.revision_impacts + news.update_impacts, but</span>
<span class="c1"># here there are no data revisions, so total and update impacts are the same)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">total_impacts</span><span class="p">)</span>

<span class="c1"># Manually compute the impacts</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">forecasts_post</span> <span class="o">-</span> <span class="n">forecasts_pre</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
impacted variable       infl
impact date
2008Q3            -10.205718
2008Q4             -6.890055
2009Q1             -4.651595
2009Q2             -3.140371

2008Q3   -10.205718
2008Q4    -6.890055
2009Q1    -4.651595
2009Q2    -3.140371
Freq: Q-DEC, dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[13]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Print the weights, computed by the `news` method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">weights</span><span class="p">)</span>

<span class="c1"># Manually compute the weights</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">phi_hat</span><span class="p">,</span> <span class="n">phi_hat</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">phi_hat</span><span class="o">**</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
impact date                  2008Q3    2008Q4    2009Q1    2009Q2
impacted variable              infl      infl      infl      infl
update date updated variable
2008Q3      infl                1.0  0.675117  0.455783  0.307707

[1.       0.675117 0.455783 0.307707]
</pre></div></div>
</div>
<h2 id="Multivariate-example:-dynamic-factor">Multivariate example: dynamic factor<a class="headerlink" href="#Multivariate-example:-dynamic-factor" title="Link to this heading">¶</a></h2>
<p>In this example, we’ll consider forecasting monthly core price inflation based on the Personal Consumption Expenditures (PCE) price index and the Consumer Price Index (CPI), using a Dynamic Factor model. Both of these measures track prices in the US economy and are based on similar source data, but they have a number of definitional differences. Nonetheless, they track each other relatively well, so modeling them jointly using a single dynamic factor seems reasonable.</p>
<p>One reason that this kind of approach can be useful is that the CPI is released earlier in the month than the PCE. One the CPI is released, therefore, we can update our dynamic factor model with that additional datapoint, and obtain an improved forecast for that month’s PCE release. A more involved version of this kind of analysis is available in Knotek and Zaman (2017).</p>
<p>We start by downloading the core CPI and PCE price index data from <a class="reference external" href="https://fred.stlouisfed.org/">FRED</a>, converting them to annualized monthly inflation rates, removing two outliers, and de-meaning each series (the dynamic factor model does not</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[14]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas_datareader</span> <span class="k">as</span> <span class="nn">pdr</span>
<span class="n">levels</span> <span class="o">=</span> <span class="n">pdr</span><span class="o">.</span><span class="n">get_data_fred</span><span class="p">([</span><span class="s1">&#39;PCEPILFE&#39;</span><span class="p">,</span> <span class="s1">&#39;CPILFESL&#39;</span><span class="p">],</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;1999&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="n">infl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">levels</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">*</span> <span class="mi">1200</span>
<span class="n">infl</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PCE&#39;</span><span class="p">,</span> <span class="s1">&#39;CPI&#39;</span><span class="p">]</span>

<span class="c1"># Remove two outliers and de-mean the series</span>
<span class="n">infl</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2001-09&#39;</span><span class="p">:</span><span class="s1">&#39;2001-10&#39;</span><span class="p">,</span> <span class="s1">&#39;PCE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</code></pre></div>
</div>
</div>
<p>To show how this works, we’ll imagine that it is April 14, 2017, which is the data of the March 2017 CPI release. So that we can show the effect of multiple updates at once, we’ll assume that we haven’t updated our data since the end of January, so that:</p>
<ul class="simple">
<li><p>Our <strong>previous dataset</strong> will consist of all values for the PCE and CPI through January 2017</p></li>
<li><p>Our <strong>updated dataset</strong> will additionally incorporate the CPI for February and March 2017 and the PCE data for February 2017. But it will not yet the PCE (the March 2017 PCE price index was not released until May 1, 2017).</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[15]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Previous dataset runs through 2017-02</span>
<span class="n">y_pre</span> <span class="o">=</span> <span class="n">infl</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="s1">&#39;2017-01&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">const_pre</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_pre</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pre</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
              PCE       CPI
DATE
2016-09  1.591601  2.022262
2016-10  1.540990  1.445830
2016-11  0.533425  1.631694
2016-12  1.393060  2.109728
2017-01  3.203951  2.623570
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[16]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># For the updated dataset, we&#39;ll just add in the</span>
<span class="c1"># CPI value for 2017-03</span>
<span class="n">y_post</span> <span class="o">=</span> <span class="n">infl</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="s1">&#39;2017-03&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">y_post</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2017-03&#39;</span><span class="p">,</span> <span class="s1">&#39;PCE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">const_post</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_post</span><span class="p">))</span>

<span class="c1"># Notice the missing value for PCE in 2017-03</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_post</span><span class="o">.</span><span class="n">tail</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
              PCE       CPI
DATE
2016-11  0.533425  1.631694
2016-12  1.393060  2.109728
2017-01  3.203951  2.623570
2017-02  2.123190  2.541355
2017-03       NaN -0.258197
</pre></div></div>
</div>
<p>We chose this particular example because in March 2017, core CPI prices fell for the first time since 2010, and this information may be useful in forecast core PCE prices for that month. The graph below shows the CPI and PCE price data as it would have been observed on April 14th<span class="math notranslate nohighlight">\(^\dagger\)</span>.</p>
<hr class="docutils" />
<p><span class="math notranslate nohighlight">\(\dagger\)</span> This statement is not entirely true, because both the CPI and PCE price indexes can be revised to a certain extent after the fact. As a result, the series that we’re pulling are not exactly like those observed on April 14, 2017. This could be fixed by pulling the archived data from <a class="reference external" href="https://alfred.stlouisfed.org/">ALFRED</a> instead of <a class="reference external" href="https://fred.stlouisfed.org/">FRED</a>, but the data we have is good enough for this tutorial.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[17]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Plot the updated dataset</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">y_post</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;2009&#39;</span><span class="p">,</span> <span class="s1">&#39;2017-06&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="s1">&#39;2009&#39;</span><span class="p">,</span> <span class="s1">&#39;2017-06&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_statespace_news_43_0.png" src="../../../_images/examples_notebooks_generated_statespace_news_43_0.png" />
</div>
</div>
<p>To perform the exercise, we first construct and fit a <code class="docutils literal notranslate"><span class="pre">DynamicFactor</span></code> model. Specifically:</p>
<ul class="simple">
<li><p>We are using a single dynamic factor (<code class="docutils literal notranslate"><span class="pre">k_factors=1</span></code>)</p></li>
<li><p>We are modeling the factor’s dynamics with an AR(6) model (<code class="docutils literal notranslate"><span class="pre">factor_order=6</span></code>)</p></li>
<li><p>We have included a vector of ones as an exogenous variable (<code class="docutils literal notranslate"><span class="pre">exog=const_pre</span></code>), because the inflation series we are working with are not mean-zero.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[18]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">mod_pre</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">DynamicFactor</span><span class="p">(</span><span class="n">y_pre</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="n">const_pre</span><span class="p">,</span> <span class="n">k_factors</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">factor_order</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">res_pre</span> <span class="o">=</span> <span class="n">mod_pre</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_pre</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =           12     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  4.81947D+00    |proj g|=  3.24664D-01
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
 This problem is unconstrained.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

At iterate    5    f=  4.62090D+00    |proj g|=  3.53739D-01

At iterate   10    f=  2.79040D+00    |proj g|=  3.87962D-01

At iterate   15    f=  2.54688D+00    |proj g|=  1.35633D-01

At iterate   20    f=  2.45463D+00    |proj g|=  1.04853D-01

At iterate   25    f=  2.42572D+00    |proj g|=  4.92521D-02

At iterate   30    f=  2.42118D+00    |proj g|=  2.82902D-02

At iterate   35    f=  2.42077D+00    |proj g|=  6.08268D-03

At iterate   40    f=  2.42076D+00    |proj g|=  1.04046D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
   12     43     66      1     0     0   3.456D-05   2.421D+00
  F =   2.4207581817590249

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH
                                   Statespace Model Results
=============================================================================================
Dep. Variable:                        [&#39;PCE&#39;, &#39;CPI&#39;]   No. Observations:                  216
Model:             DynamicFactor(factors=1, order=6)   Log Likelihood                -522.884
                                      + 1 regressors   AIC                           1069.768
Date:                               Sat, 12 Oct 2024   BIC                           1110.271
Time:                                       17:02:33   HQIC                          1086.131
Sample:                                   02-28-1999
                                        - 01-31-2017
Covariance Type:                                 opg
===================================================================================
Ljung-Box (L1) (Q):             4.50, 0.54   Jarque-Bera (JB):         13.09, 12.63
Prob(Q):                        0.03, 0.46   Prob(JB):                   0.00, 0.00
Heteroskedasticity (H):         0.56, 0.44   Skew:                      0.18, -0.16
Prob(H) (two-sided):            0.02, 0.00   Kurtosis:                   4.15, 4.14
                           Results for equation PCE
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
loading.f1     0.5499      0.061      9.037      0.000       0.431       0.669
beta.const     1.7039      0.095     17.959      0.000       1.518       1.890
                           Results for equation CPI
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
loading.f1     0.9033      0.102      8.875      0.000       0.704       1.103
beta.const     1.9621      0.137     14.357      0.000       1.694       2.230
                        Results for factor equation f1
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
L1.f1          0.1246      0.069      1.805      0.071      -0.011       0.260
L2.f1          0.1823      0.072      2.548      0.011       0.042       0.323
L3.f1          0.0178      0.073      0.244      0.807      -0.125       0.160
L4.f1         -0.0700      0.078     -0.893      0.372      -0.224       0.084
L5.f1          0.1561      0.068      2.308      0.021       0.024       0.289
L6.f1          0.1376      0.075      1.842      0.066      -0.009       0.284
                           Error covariance matrix
==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
sigma2.PCE     0.5422      0.065      8.287      0.000       0.414       0.670
sigma2.CPI  1.322e-12      0.144   9.15e-12      1.000      -0.283       0.283
==============================================================================

Warnings:
[1] Covariance matrix calculated using the outer product of gradients (complex-step).
</pre></div></div>
</div>
<p>With the fitted model in hand, we now construct the news and impacts associated with observing the CPI for March 2017. The updated data is for February 2017 and part of March 2017, and we’ll examining the impacts on both March and April.</p>
<p>In the univariate example, we first created an updated results object, and then passed that to the <code class="docutils literal notranslate"><span class="pre">news</span></code> method. Here, we’re creating the news by directly passing the updated dataset.</p>
<p>Notice that:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">y_post</span></code> contains the entire updated dataset (not just the new datapoints)</p></li>
<li><p>We also had to pass an updated <code class="docutils literal notranslate"><span class="pre">exog</span></code> array. This array must cover <strong>both</strong>:</p>
<ul class="simple">
<li><p>The entire period associated with <code class="docutils literal notranslate"><span class="pre">y_post</span></code></p></li>
<li><p>Any additional datapoints after the end of <code class="docutils literal notranslate"><span class="pre">y_post</span></code> through the last impact date, specified by <code class="docutils literal notranslate"><span class="pre">end</span></code></p></li>
</ul>
<p>Here, <code class="docutils literal notranslate"><span class="pre">y_post</span></code> ends in March 2017, so we needed our <code class="docutils literal notranslate"><span class="pre">exog</span></code> to extend one more period, to April 2017.</p>
</li>
</ol>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[19]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Create the news results</span>
<span class="c1"># Note</span>
<span class="n">const_post_plus1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y_post</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">news</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">news</span><span class="p">(</span><span class="n">y_post</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="n">const_post_plus1</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2017-03&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2017-04&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<blockquote>
<div><p><strong>Note</strong>:</p>
<p>In the univariate example, above, we first constructed a new results object, and then passed that to the <code class="docutils literal notranslate"><span class="pre">news</span></code> method. We could have done that here too, although there is an extra step required. Since we are requesting an impact for a period beyond the end of <code class="docutils literal notranslate"><span class="pre">y_post</span></code>, we would still need to pass the additional value for the <code class="docutils literal notranslate"><span class="pre">exog</span></code> variable during that period to <code class="docutils literal notranslate"><span class="pre">news</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span class="n">res_post</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">y_post</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="n">const_post</span><span class="p">)</span>
<span class="n">news</span> <span class="o">=</span> <span class="n">res_pre</span><span class="o">.</span><span class="n">news</span><span class="p">(</span><span class="n">res_post</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="p">[</span><span class="mf">1.</span><span class="p">],</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2017-03&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2017-04&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div></blockquote>
<p>Now that we have computed the <code class="docutils literal notranslate"><span class="pre">news</span></code>, printing <code class="docutils literal notranslate"><span class="pre">summary</span></code> is a convenient way to see the results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[20]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Show the summary of the news results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                      News
===============================================================================
Model:                  DynamicFactor   Original sample:                1999-02
Date:                Sat, 12 Oct 2024                                 - 2017-01
Time:                        17:02:34   Update through:                 2017-03
                                        # of revisions:                       0
                                        # of new datapoints:                  3
                                  Impacts
===========================================================================
impact date impacted variable estimate (prev) impact of news estimate (new)
---------------------------------------------------------------------------
    2017-03               CPI            2.07          -2.33          -0.26
        NaT               PCE            1.77          -1.42           0.35
    2017-04               CPI            1.90          -0.23           1.67
        NaT               PCE            1.67          -0.14           1.53
                  News from updated observations:
===================================================================
update date updated variable   observed forecast (prev)        news
-------------------------------------------------------------------
    2017-02              CPI       2.54            2.24        0.30
                         PCE       2.12            1.87        0.25
    2017-03              CPI      -0.26            2.07       -2.33
===================================================================
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:936: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    2.07
1    1.77
2    1.90
3    1.67
Name: estimate (prev), dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  impacts.iloc[:, 2:] = impacts.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:936: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    0.00
1    0.00
2    0.00
3    0.00
Name: impact of revisions, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  impacts.iloc[:, 2:] = impacts.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:936: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    -2.33
1    -1.42
2    -0.23
3    -0.14
Name: impact of news, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  impacts.iloc[:, 2:] = impacts.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:936: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    -2.33
1    -1.42
2    -0.23
3    -0.14
Name: total impact, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  impacts.iloc[:, 2:] = impacts.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:936: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    -0.26
1     0.35
2     1.67
3     1.53
Name: estimate (new), dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  impacts.iloc[:, 2:] = impacts.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0     2.54
1     2.12
2    -0.26
Name: observed, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0    2.24
1    1.87
2    2.07
Name: forecast (prev), dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/statsmodels/tsa/statespace/news.py:1328: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value &#39;0     0.30
1     0.25
2    -2.33
Name: news, dtype: object&#39; has dtype incompatible with float64, please explicitly cast to a compatible dtype first.
  data.iloc[:, 2:] = data.iloc[:, 2:].map(
</pre></div></div>
</div>
<p>Because we have multiple variables, by default the summary only shows the news from updated data along and the total impacts.</p>
<p>From the first table, we can see that our updated dataset contains three new data points, with most of the “news” from these data coming from the very low reading in March 2017.</p>
<p>The second table shows that these three datapoints substantially impacted the estimate for PCE in March 2017 (which was not yet observed). This estimate revised down by nearly 1.5 percentage points.</p>
<p>The updated data also impacted the forecasts in the first out-of-sample month, April 2017. After incorporating the new data, the model’s forecasts for CPI and PCE inflation in that month revised down 0.29 and 0.17 percentage point, respectively.</p>
<p>While these tables show the “news” and the total impacts, they do not show how much of each impact was caused by each updated datapoint. To see that information, we need to look at the details tables.</p>
<p>One way to see the details tables is to pass <code class="docutils literal notranslate"><span class="pre">include_details=True</span></code> to the <code class="docutils literal notranslate"><span class="pre">summary</span></code> method. To avoid repeating the tables above, however, we’ll just call the <code class="docutils literal notranslate"><span class="pre">summary_details</span></code> method directly.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[21]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">news</span><span class="o">.</span><span class="n">summary_details</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                             Details of news for [updated variable = CPI]
======================================================================================================
update date   observed forecast (prev) impact date impacted variable        news     weight     impact
------------------------------------------------------------------------------------------------------
    2017-02       2.54            2.24     2017-04               CPI        0.30       0.18       0.06
                                                                 PCE        0.30       0.11       0.03
    2017-03      -0.26            2.07     2017-03               CPI       -2.33        1.0      -2.33
                                                                 PCE       -2.33       0.61      -1.42
                                           2017-04               CPI       -2.33       0.12      -0.29
                                                                 PCE       -2.33       0.08      -0.18
======================================================================================================
</pre></div></div>
</div>
<p>This table shows that most of the revisions to the estimate of PCE in April 2017, described above, came from the news associated with the CPI release in March 2017. By contrast, the CPI release in February had only a little effect on the April forecast, and the PCE release in February had essentially no effect.</p>
<h2 id="Bibliography">Bibliography<a class="headerlink" href="#Bibliography" title="Link to this heading">¶</a></h2>
<p>Bańbura, Marta, Domenico Giannone, and Lucrezia Reichlin. “Nowcasting.” The Oxford Handbook of Economic Forecasting. July 8, 2011.</p>
<p>Bańbura, Marta, Domenico Giannone, Michele Modugno, and Lucrezia Reichlin. “Now-casting and the real-time data flow.” In Handbook of economic forecasting, vol. 2, pp. 195-237. Elsevier, 2013.</p>
<p>Bańbura, Marta, and Michele Modugno. “Maximum likelihood estimation of factor models on datasets with arbitrary pattern of missing data.” Journal of Applied Econometrics 29, no. 1 (2014): 133-160.</p>
<p>Knotek, Edward S., and Saeed Zaman. “Nowcasting US headline and core inflation.” Journal of Money, Credit and Banking 49, no. 5 (2017): 931-968.</p>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      Oct 12, 2024
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="statespace_tvpvar_mcmc_cfa.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: TVP-VAR, MCMC, and sparse simulation smoothing" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              TVP-VAR, MCMC, and sparse simulation smoothing
            </div>
          </div>
        </a>
      
      
        
        <a href="statespace_custom_models.html" class="md-footer__link md-footer__link--next" aria-label="Next: Custom statespace models" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Custom statespace models
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2009-2023, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.3.7.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/statsmodels/statsmodels/" target="_blank" rel="noopener" title="Source on github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://pypi.org/project/statsmodels/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://doi.org/10.5281/zenodo.593847" target="_blank" rel="noopener" title="doi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": "../versions-v3.json"}}</script>
    
      
        <script src="../../../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script id="MathJax-script" src="../../../_static/mathjax/tex-mml-chtml.js?v=cadf963e"></script>
    
  </body>
</html>