


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../_static/favicon.ico">
    
    
  
      
        <title>ETS models - statsmodels 0.15.0 (+321)</title>
      
    
  <link rel="icon" type="image/png" sizes="32x32" href="../../../_static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../../_static/icons/favicon-16x16.png">
  <link rel="manifest" href="../../../_static/icons/site.webmanifest">
  <link rel="mask-icon" href="../../../_static/icons/safari-pinned-tab.svg" color="#919191">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="msapplication-config" content="../../../_static/icons/browserconfig.xml">
  <link rel="stylesheet" href="../../../_static/stylesheets/examples.css">
  <link rel="stylesheet" href="../../../_static/stylesheets/deprecation.css">
    
      
        
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_immaterial_theme.e0b5691b38cca82da.min.css?v=b1736040" />
        <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
        <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
        <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-code-cells.css" />
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#Simple-exponential-smoothing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="statsmodels 0.15.0 (+321)" class="md-header__button md-logo" aria-label="statsmodels 0.15.0 (+321)" data-md-component="logo">
      <img src="../../../_static/statsmodels-logo-v2-bw.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            statsmodels 0.15.0 (+321)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ETS models
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/statsmodels/statsmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="statsmodels 0.15.0 (+321)" class="md-nav__button md-logo" aria-label="statsmodels 0.15.0 (+321)" data-md-component="logo">
      <img src="../../../_static/statsmodels-logo-v2-bw.svg" alt="logo">
    </a>
    statsmodels 0.15.0 (+321)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/statsmodels/statsmodels/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../install.html" class="md-nav__link">
        <span title="/install.rst (reference label)" class="md-ellipsis">Installing statsmodels</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gettingstarted.html" class="md-nav__link">
        <span title="/gettingstarted.rst (reference label)" class="md-ellipsis">Getting started</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide.html" class="md-nav__link">
        <span title="/user-guide.rst (reference label)" class="md-ellipsis">User Guide</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../index.html"><span title="/examples/index.rst (reference label)" class="md-ellipsis">Examples</span></a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <span title="/examples/index.rst (reference label)" class="md-ellipsis">Examples</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#linear-regression-models" class="md-nav__link">
        <span title="/examples/index.rst#linear-regression-models (reference label)" class="md-ellipsis">Linear Regression Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#plotting" class="md-nav__link">
        <span title="/examples/index.rst#plotting (reference label)" class="md-ellipsis">Plotting</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#discrete-choice-models" class="md-nav__link">
        <span title="/examples/index.rst#discrete-choice-models (reference label)" class="md-ellipsis">Discrete Choice Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#nonparametric-statistics" class="md-nav__link">
        <span title="/examples/index.rst#nonparametric-statistics (reference label)" class="md-ellipsis">Nonparametric Statistics</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#generalized-linear-models" class="md-nav__link">
        <span title="/examples/index.rst#generalized-linear-models (reference label)" class="md-ellipsis">Generalized Linear Models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#robust-regression" class="md-nav__link">
        <span title="/examples/index.rst#robust-regression (reference label)" class="md-ellipsis">Robust Regression</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#generalized-estimating-equations" class="md-nav__link">
        <span title="/examples/index.rst#generalized-estimating-equations (reference label)" class="md-ellipsis">Generalized Estimating Equations</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#statistics" class="md-nav__link">
        <span title="/examples/index.rst#statistics (reference label)" class="md-ellipsis">Statistics</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#time-series-analysis" class="md-nav__link">
        <span title="/examples/index.rst#time-series-analysis (reference label)" class="md-ellipsis">Time Series Analysis</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10" type="checkbox" id="__nav_4_10" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../index.html#state-space-models"><span title="/examples/index.rst#state-space-models (reference label)" class="md-ellipsis">State space models</span></a>
          
            <label for="__nav_4_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="State space models" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          <span title="/examples/index.rst#state-space-models (reference label)" class="md-ellipsis">State space models</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_sarimax_stata.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_sarimax_stata.ipynb (reference label)" class="md-ellipsis">SARIMAX:<wbr> Introduction</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_sarimax_faq.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_sarimax_faq.ipynb (reference label)" class="md-ellipsis">SARIMAX and ARIMA:<wbr> Frequently Asked Questions <wbr>(FAQ)</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_dfm_coincident.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_dfm_coincident.ipynb (reference label)" class="md-ellipsis">Dynamic factors and coincident indices</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_structural_harvey_jaeger.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_structural_harvey_jaeger.ipynb (reference label)" class="md-ellipsis">Detrending, Stylized Facts and the Business Cycle</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_cycles.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_cycles.ipynb (reference label)" class="md-ellipsis">Trends and cycles in unemployment</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_arma_0.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_arma_0.ipynb (reference label)" class="md-ellipsis">Autoregressive Moving Average <wbr>(ARMA):<wbr> Sunspots data</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_seasonal.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_seasonal.ipynb (reference label)" class="md-ellipsis">Seasonality in time series data</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_fixed_params.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_fixed_params.ipynb (reference label)" class="md-ellipsis">Estimating or specifying parameters in state space models</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_tvpvar_mcmc_cfa.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_tvpvar_mcmc_cfa.ipynb (reference label)" class="md-ellipsis">TVP-<wbr>VAR, MCMC, and sparse simulation smoothing</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_news.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_news.ipynb (reference label)" class="md-ellipsis">Forecasting, updating datasets, and the “news”</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="statespace_custom_models.html" class="md-nav__link">
        <span title="/examples/notebooks/generated/statespace_custom_models.ipynb (reference label)" class="md-ellipsis">Custom statespace models</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span title="/examples/notebooks/generated/ets.ipynb (reference label)" class="md-ellipsis">ETS models</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span title="/examples/notebooks/generated/ets.ipynb (reference label)" class="md-ellipsis">ETS models</span>
      </a>
      
        

  

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#Simple-exponential-smoothing" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#simple-exponential-smoothing (reference label)" class="md-ellipsis">Simple exponential smoothing</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Holt-Winters'-seasonal-method" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#holt-winters&#39;-seasonal-method (reference label)" class="md-ellipsis">Holt-<wbr>Winters’ seasonal method</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Predictions" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#predictions (reference label)" class="md-ellipsis">Predictions</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#state-space-models-technical-notes" class="md-nav__link">
        <span title="/examples/index.rst#state-space-models-technical-notes (reference label)" class="md-ellipsis">State space models -<wbr> Technical notes</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#forecasting" class="md-nav__link">
        <span title="/examples/index.rst#forecasting (reference label)" class="md-ellipsis">Forecasting</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#multivariate-methods" class="md-nav__link">
        <span title="/examples/index.rst#multivariate-methods (reference label)" class="md-ellipsis">Multivariate Methods</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#user-notes" class="md-nav__link">
        <span title="/examples/index.rst#user-notes (reference label)" class="md-ellipsis">User Notes</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api.html" class="md-nav__link">
        <span title="/api.rst (reference label)" class="md-ellipsis">API Reference</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about.html" class="md-nav__link">
        <span title="/about.rst (reference label)" class="md-ellipsis">About statsmodels</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev/index.html" class="md-nav__link">
        <span title="/dev/index.rst (reference label)" class="md-ellipsis">Developer Page</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release/index.html" class="md-nav__link">
        <span title="/release/index.rst (reference label)" class="md-ellipsis">Release Notes</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#Simple-exponential-smoothing" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#simple-exponential-smoothing (reference label)" class="md-ellipsis">Simple exponential smoothing</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Holt-Winters'-seasonal-method" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#holt-winters&#39;-seasonal-method (reference label)" class="md-ellipsis">Holt-<wbr>Winters’ seasonal method</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#Predictions" class="md-nav__link">
    <span title="/examples/notebooks/generated/ets.ipynb#predictions (reference label)" class="md-ellipsis">Predictions</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="ETS-models">ETS models<a class="headerlink" href="#ETS-models" title="Link to this heading">¶</a></h1>
<p>The ETS models are a family of time series models with an underlying state space model consisting of a level component, a trend component (T), a seasonal component (S), and an error term (E).</p>
<p>This notebook shows how they can be used with <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code>. For a more thorough treatment we refer to [1], chapter 8 (free online resource), on which the implementation in statsmodels and the examples used in this notebook are based.</p>
<p><code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> implements all combinations of: - additive and multiplicative error model - additive and multiplicative trend, possibly dampened - additive and multiplicative seasonality</p>
<p>However, not all of these methods are stable. Refer to [1] and references therein for more info about model stability.</p>
<p>[1] Hyndman, Rob J., and Athanasopoulos, George. <em>Forecasting: principles and practice</em>, 3rd edition, OTexts, 2021. <a class="reference external" href="https://otexts.com/fpp3/expsmooth.html">https://otexts.com/fpp3/expsmooth.html</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[1]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">statsmodels.tsa.exponential_smoothing.ets</span> <span class="kn">import</span> <span class="n">ETSModel</span>
</code></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[2]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<h2 id="Simple-exponential-smoothing">Simple exponential smoothing<a class="headerlink" href="#Simple-exponential-smoothing" title="Link to this heading">¶</a></h2>
<p>The simplest of the ETS models is also known as <em>simple exponential smoothing</em>. In ETS terms, it corresponds to the (A, N, N) model, that is, a model with additive errors, no trend, and no seasonality. The state space formulation of Holt’s method is:</p>
<p><span class="math">\begin{align}
y_{t} &= y_{t-1} + e_t\\
l_{t} &= l_{t-1} + \alpha e_t\\
\end{align}</span></p>
<p>This state space formulation can be turned into a different formulation, a forecast and a smoothing equation (as can be done with all ETS models):</p>
<p><span class="math">\begin{align}
\hat{y}_{t|t-1} &= l_{t-1}\\
l_{t} &= \alpha y_{t-1} + (1 - \alpha) l_{t-1}
\end{align}</span></p>
<p>Here, <span class="math notranslate nohighlight">\(\hat{y}_{t|t-1}\)</span> is the forecast/expectation of <span class="math notranslate nohighlight">\(y_t\)</span> given the information of the previous step. In the simple exponential smoothing model, the forecast corresponds to the previous level. The second equation (smoothing equation) calculates the next level as weighted average of the previous level and the previous observation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[3]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">oildata</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mf">111.0091</span><span class="p">,</span>
    <span class="mf">130.8284</span><span class="p">,</span>
    <span class="mf">141.2871</span><span class="p">,</span>
    <span class="mf">154.2278</span><span class="p">,</span>
    <span class="mf">162.7409</span><span class="p">,</span>
    <span class="mf">192.1665</span><span class="p">,</span>
    <span class="mf">240.7997</span><span class="p">,</span>
    <span class="mf">304.2174</span><span class="p">,</span>
    <span class="mf">384.0046</span><span class="p">,</span>
    <span class="mf">429.6622</span><span class="p">,</span>
    <span class="mf">359.3169</span><span class="p">,</span>
    <span class="mf">437.2519</span><span class="p">,</span>
    <span class="mf">468.4008</span><span class="p">,</span>
    <span class="mf">424.4353</span><span class="p">,</span>
    <span class="mf">487.9794</span><span class="p">,</span>
    <span class="mf">509.8284</span><span class="p">,</span>
    <span class="mf">506.3473</span><span class="p">,</span>
    <span class="mf">340.1842</span><span class="p">,</span>
    <span class="mf">240.2589</span><span class="p">,</span>
    <span class="mf">219.0328</span><span class="p">,</span>
    <span class="mf">172.0747</span><span class="p">,</span>
    <span class="mf">252.5901</span><span class="p">,</span>
    <span class="mf">221.0711</span><span class="p">,</span>
    <span class="mf">276.5188</span><span class="p">,</span>
    <span class="mf">271.1480</span><span class="p">,</span>
    <span class="mf">342.6186</span><span class="p">,</span>
    <span class="mf">428.3558</span><span class="p">,</span>
    <span class="mf">442.3946</span><span class="p">,</span>
    <span class="mf">432.7851</span><span class="p">,</span>
    <span class="mf">437.2497</span><span class="p">,</span>
    <span class="mf">437.2092</span><span class="p">,</span>
    <span class="mf">445.3641</span><span class="p">,</span>
    <span class="mf">453.1950</span><span class="p">,</span>
    <span class="mf">454.4096</span><span class="p">,</span>
    <span class="mf">422.3789</span><span class="p">,</span>
    <span class="mf">456.0371</span><span class="p">,</span>
    <span class="mf">440.3866</span><span class="p">,</span>
    <span class="mf">425.1944</span><span class="p">,</span>
    <span class="mf">486.2052</span><span class="p">,</span>
    <span class="mf">500.4291</span><span class="p">,</span>
    <span class="mf">521.2759</span><span class="p">,</span>
    <span class="mf">508.9476</span><span class="p">,</span>
    <span class="mf">488.8889</span><span class="p">,</span>
    <span class="mf">509.8706</span><span class="p">,</span>
    <span class="mf">456.7229</span><span class="p">,</span>
    <span class="mf">473.8166</span><span class="p">,</span>
    <span class="mf">525.9509</span><span class="p">,</span>
    <span class="mf">549.8338</span><span class="p">,</span>
    <span class="mf">542.3405</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">oil</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">oildata</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;1965&quot;</span><span class="p">,</span> <span class="s2">&quot;2013&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;YS&quot;</span><span class="p">))</span>
<span class="n">oil</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Annual oil production in Saudi Arabia (Mt)&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[3]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;Annual oil production in Saudi Arabia (Mt)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_4_1.png" src="../../../_images/examples_notebooks_generated_ets_4_1.png" />
</div>
</div>
<p>The plot above shows annual oil production in Saudi Arabia in million tonnes. The data are taken from the R package <code class="docutils literal notranslate"><span class="pre">fpp2</span></code> (companion package to prior version [1]). Below you can see how to fit a simple exponential smoothing model using statsmodels’s ETS implementation to this data. Additionally, the fit using <code class="docutils literal notranslate"><span class="pre">forecast</span></code> in R is shown as comparison.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[4]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">ETSModel</span><span class="p">(</span><span class="n">oil</span><span class="p">)</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">maxiter</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">oil</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">fittedvalues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;statsmodels fit&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Annual oil production in Saudi Arabia (Mt)&quot;</span><span class="p">)</span>

<span class="c1"># obtained from R</span>
<span class="n">params_R</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.99989969</span><span class="p">,</span> <span class="mf">0.11888177503085334</span><span class="p">,</span> <span class="mf">0.80000197</span><span class="p">,</span> <span class="mf">36.46466837</span><span class="p">,</span> <span class="mf">34.72584983</span><span class="p">]</span>
<span class="n">yhat</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">smooth</span><span class="p">(</span><span class="n">params_R</span><span class="p">)</span><span class="o">.</span><span class="n">fittedvalues</span>
<span class="n">yhat</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;R fit&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.27365D+00    |proj g|=  8.99900D-01

At iterate    1    f=  5.31675D+00    |proj g|=  6.49880D-04

At iterate    2    f=  5.30939D+00    |proj g|=  5.55378D-04

At iterate    3    f=  5.29115D+00    |proj g|=  5.80869D-05

At iterate    4    f=  5.29096D+00    |proj g|=  1.95399D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      4     13      5     0     1   1.954D-06   5.291D+00
  F =   5.2909564634183583

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[4]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f7baac73fa0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_6_2.png" src="../../../_images/examples_notebooks_generated_ets_6_2.png" />
</div>
</div>
<p>By default the initial states are considered to be fitting parameters and are estimated by maximizing log-likelihood. It is possible to only use a heuristic for the initial values:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[5]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">model_heuristic</span> <span class="o">=</span> <span class="n">ETSModel</span><span class="p">(</span><span class="n">oil</span><span class="p">,</span> <span class="n">initialization_method</span><span class="o">=</span><span class="s2">&quot;heuristic&quot;</span><span class="p">)</span>
<span class="n">fit_heuristic</span> <span class="o">=</span> <span class="n">model_heuristic</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">oil</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">fittedvalues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;estimated&quot;</span><span class="p">)</span>
<span class="n">fit_heuristic</span><span class="o">.</span><span class="n">fittedvalues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;heuristic&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Annual oil production in Saudi Arabia (Mt)&quot;</span><span class="p">)</span>

<span class="c1"># obtained from R</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.99989969</span><span class="p">,</span> <span class="mf">0.11888177503085334</span><span class="p">,</span> <span class="mf">0.80000197</span><span class="p">,</span> <span class="mf">36.46466837</span><span class="p">,</span> <span class="mf">34.72584983</span><span class="p">]</span>
<span class="n">yhat</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">smooth</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="o">.</span><span class="n">fittedvalues</span>
<span class="n">yhat</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;with R params&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            1     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.27365D+00    |proj g|=  8.99900D-01

At iterate    1    f=  5.31675D+00    |proj g|=  0.00000D+00

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    1      1      2      1     0     1   0.000D+00   5.317D+00
  F =   5.3167544390512402

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[5]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f7bad0393c0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_8_2.png" src="../../../_images/examples_notebooks_generated_ets_8_2.png" />
</div>
</div>
<p>The fitted parameters and some other measures are shown using <code class="docutils literal notranslate"><span class="pre">fit.summary()</span></code>. Here we can see that the log-likelihood of the model using fitted initial states is fractionally lower than the one using a heuristic for the initial states.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[6]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                 ETS Results
==============================================================================
Dep. Variable:                      y   No. Observations:                   49
Model:                       ETS(ANN)   Log Likelihood                -259.257
Date:                Mon, 15 Jul 2024   AIC                            524.514
Time:                        14:29:52   BIC                            530.189
Sample:                    01-01-1965   HQIC                           526.667
                         - 01-01-2013   Scale                         2307.767
Covariance Type:               approx
===================================================================================
                      coef    std err          z      P&gt;|z|      [0.025      0.975]
-----------------------------------------------------------------------------------
smoothing_level     0.9999      0.132      7.551      0.000       0.740       1.259
initial_level     110.7864     48.110      2.303      0.021      16.492     205.081
===================================================================================
Ljung-Box (Q):                        1.87   Jarque-Bera (JB):                20.78
Prob(Q):                              0.39   Prob(JB):                         0.00
Heteroskedasticity (H):               0.49   Skew:                            -1.04
Prob(H) (two-sided):                  0.16   Kurtosis:                         5.42
===================================================================================

Warnings:
[1] Covariance matrix calculated using numerical (complex-step) differentiation.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[7]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fit_heuristic</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                 ETS Results
==============================================================================
Dep. Variable:                      y   No. Observations:                   49
Model:                       ETS(ANN)   Log Likelihood                -260.521
Date:                Mon, 15 Jul 2024   AIC                            525.042
Time:                        14:29:52   BIC                            528.826
Sample:                    01-01-1965   HQIC                           526.477
                         - 01-01-2013   Scale                         2429.964
Covariance Type:               approx
===================================================================================
                      coef    std err          z      P&gt;|z|      [0.025      0.975]
-----------------------------------------------------------------------------------
smoothing_level     0.9999      0.132      7.559      0.000       0.741       1.259
==============================================
              initialization method: heuristic
----------------------------------------------
initial_level                          33.6309
===================================================================================
Ljung-Box (Q):                        1.85   Jarque-Bera (JB):                18.42
Prob(Q):                              0.40   Prob(JB):                         0.00
Heteroskedasticity (H):               0.44   Skew:                            -1.02
Prob(H) (two-sided):                  0.11   Kurtosis:                         5.21
===================================================================================

Warnings:
[1] Covariance matrix calculated using numerical (complex-step) differentiation.
</pre></div></div>
</div>
<h2 id="Holt-Winters'-seasonal-method">Holt-Winters’ seasonal method<a class="headerlink" href="#Holt-Winters'-seasonal-method" title="Link to this heading">¶</a></h2>
<p>The exponential smoothing method can be modified to incorporate a trend and a seasonal component. In the additive Holt-Winters’ method, the seasonal component is added to the rest. This model corresponds to the ETS(A, A, A) model, and has the following state space formulation:</p>
<p><span class="math">\begin{align}
y_t &= l_{t-1} + b_{t-1} + s_{t-m} + e_t\\
l_{t} &= l_{t-1} + b_{t-1} + \alpha e_t\\
b_{t} &= b_{t-1} + \beta e_t\\
s_{t} &= s_{t-m} + \gamma e_t
\end{align}</span></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[8]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">austourists_data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mf">30.05251300</span><span class="p">,</span>
    <span class="mf">19.14849600</span><span class="p">,</span>
    <span class="mf">25.31769200</span><span class="p">,</span>
    <span class="mf">27.59143700</span><span class="p">,</span>
    <span class="mf">32.07645600</span><span class="p">,</span>
    <span class="mf">23.48796100</span><span class="p">,</span>
    <span class="mf">28.47594000</span><span class="p">,</span>
    <span class="mf">35.12375300</span><span class="p">,</span>
    <span class="mf">36.83848500</span><span class="p">,</span>
    <span class="mf">25.00701700</span><span class="p">,</span>
    <span class="mf">30.72223000</span><span class="p">,</span>
    <span class="mf">28.69375900</span><span class="p">,</span>
    <span class="mf">36.64098600</span><span class="p">,</span>
    <span class="mf">23.82460900</span><span class="p">,</span>
    <span class="mf">29.31168300</span><span class="p">,</span>
    <span class="mf">31.77030900</span><span class="p">,</span>
    <span class="mf">35.17787700</span><span class="p">,</span>
    <span class="mf">19.77524400</span><span class="p">,</span>
    <span class="mf">29.60175000</span><span class="p">,</span>
    <span class="mf">34.53884200</span><span class="p">,</span>
    <span class="mf">41.27359900</span><span class="p">,</span>
    <span class="mf">26.65586200</span><span class="p">,</span>
    <span class="mf">28.27985900</span><span class="p">,</span>
    <span class="mf">35.19115300</span><span class="p">,</span>
    <span class="mf">42.20566386</span><span class="p">,</span>
    <span class="mf">24.64917133</span><span class="p">,</span>
    <span class="mf">32.66733514</span><span class="p">,</span>
    <span class="mf">37.25735401</span><span class="p">,</span>
    <span class="mf">45.24246027</span><span class="p">,</span>
    <span class="mf">29.35048127</span><span class="p">,</span>
    <span class="mf">36.34420728</span><span class="p">,</span>
    <span class="mf">41.78208136</span><span class="p">,</span>
    <span class="mf">49.27659843</span><span class="p">,</span>
    <span class="mf">31.27540139</span><span class="p">,</span>
    <span class="mf">37.85062549</span><span class="p">,</span>
    <span class="mf">38.83704413</span><span class="p">,</span>
    <span class="mf">51.23690034</span><span class="p">,</span>
    <span class="mf">31.83855162</span><span class="p">,</span>
    <span class="mf">41.32342126</span><span class="p">,</span>
    <span class="mf">42.79900337</span><span class="p">,</span>
    <span class="mf">55.70835836</span><span class="p">,</span>
    <span class="mf">33.40714492</span><span class="p">,</span>
    <span class="mf">42.31663797</span><span class="p">,</span>
    <span class="mf">45.15712257</span><span class="p">,</span>
    <span class="mf">59.57607996</span><span class="p">,</span>
    <span class="mf">34.83733016</span><span class="p">,</span>
    <span class="mf">44.84168072</span><span class="p">,</span>
    <span class="mf">46.97124960</span><span class="p">,</span>
    <span class="mf">60.01903094</span><span class="p">,</span>
    <span class="mf">38.37117851</span><span class="p">,</span>
    <span class="mf">46.97586413</span><span class="p">,</span>
    <span class="mf">50.73379646</span><span class="p">,</span>
    <span class="mf">61.64687319</span><span class="p">,</span>
    <span class="mf">39.29956937</span><span class="p">,</span>
    <span class="mf">52.67120908</span><span class="p">,</span>
    <span class="mf">54.33231689</span><span class="p">,</span>
    <span class="mf">66.83435838</span><span class="p">,</span>
    <span class="mf">40.87118847</span><span class="p">,</span>
    <span class="mf">51.82853579</span><span class="p">,</span>
    <span class="mf">57.49190993</span><span class="p">,</span>
    <span class="mf">65.25146985</span><span class="p">,</span>
    <span class="mf">43.06120822</span><span class="p">,</span>
    <span class="mf">54.76075713</span><span class="p">,</span>
    <span class="mf">59.83447494</span><span class="p">,</span>
    <span class="mf">73.25702747</span><span class="p">,</span>
    <span class="mf">47.69662373</span><span class="p">,</span>
    <span class="mf">61.09776802</span><span class="p">,</span>
    <span class="mf">66.05576122</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;1999-03-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2015-12-01&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;3MS&quot;</span><span class="p">)</span>
<span class="n">austourists</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">austourists_data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
<span class="n">austourists</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Australian Tourists&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[8]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;Australian Tourists&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_13_1.png" src="../../../_images/examples_notebooks_generated_ets_13_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[9]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># fit in statsmodels</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ETSModel</span><span class="p">(</span>
    <span class="n">austourists</span><span class="p">,</span>
    <span class="n">error</span><span class="o">=</span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
    <span class="n">trend</span><span class="o">=</span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
    <span class="n">seasonal</span><span class="o">=</span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
    <span class="n">damped_trend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">seasonal_periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="c1"># fit with R params</span>
<span class="n">params_R</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mf">0.35445427</span><span class="p">,</span>
    <span class="mf">0.03200749</span><span class="p">,</span>
    <span class="mf">0.39993387</span><span class="p">,</span>
    <span class="mf">0.97999997</span><span class="p">,</span>
    <span class="mf">24.01278357</span><span class="p">,</span>
    <span class="mf">0.97770147</span><span class="p">,</span>
    <span class="mf">1.76951063</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">0.50735902</span><span class="p">,</span>
    <span class="o">-</span><span class="mf">6.61171798</span><span class="p">,</span>
    <span class="mf">5.34956637</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">fit_R</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">smooth</span><span class="p">(</span><span class="n">params_R</span><span class="p">)</span>

<span class="n">austourists</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Australian Tourists&quot;</span><span class="p">)</span>

<span class="n">fit</span><span class="o">.</span><span class="n">fittedvalues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;statsmodels fit&quot;</span><span class="p">)</span>
<span class="n">fit_R</span><span class="o">.</span><span class="n">fittedvalues</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;R fit&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            9     M =           10

At X0         1 variables are exactly at the bounds

At iterate    0    f=  3.40132D+00    |proj g|=  9.88789D-01

At iterate    1    f=  2.58255D+00    |proj g|=  9.99244D-01

At iterate    2    f=  2.49918D+00    |proj g|=  2.90033D-01

At iterate    3    f=  2.48198D+00    |proj g|=  2.44942D-01

At iterate    4    f=  2.43118D+00    |proj g|=  7.29721D-02

At iterate    5    f=  2.42924D+00    |proj g|=  7.03572D-02

At iterate    6    f=  2.42851D+00    |proj g|=  4.66402D-02

At iterate    7    f=  2.42794D+00    |proj g|=  2.92421D-02

At iterate    8    f=  2.42784D+00    |proj g|=  2.53310D-02

At iterate    9    f=  2.42721D+00    |proj g|=  1.89539D-02

At iterate   10    f=  2.42622D+00    |proj g|=  3.18632D-02

At iterate   11    f=  2.42512D+00    |proj g|=  3.53022D-02

At iterate   12    f=  2.42383D+00    |proj g|=  3.65631D-02

At iterate   13    f=  2.42196D+00    |proj g|=  4.83553D-02

At iterate   14    f=  2.41828D+00    |proj g|=  5.99624D-02

At iterate   15    f=  2.41131D+00    |proj g|=  6.89742D-02

At iterate   16    f=  2.40200D+00    |proj g|=  7.65517D-02

At iterate   17    f=  2.39385D+00    |proj g|=  8.77242D-02

At iterate   18    f=  2.37916D+00    |proj g|=  1.52281D-01

At iterate   19    f=  2.35438D+00    |proj g|=  2.40327D-01

At iterate   20    f=  2.33828D+00    |proj g|=  2.52896D-01

At iterate   21    f=  2.33770D+00    |proj g|=  2.54660D-01

At iterate   22    f=  2.33762D+00    |proj g|=  2.49657D-01

At iterate   23    f=  2.33762D+00    |proj g|=  2.49697D-01
  Positive dir derivative in projection
  Using the backtracking step

At iterate   24    f=  2.32723D+00    |proj g|=  2.22951D-01

At iterate   25    f=  2.29779D+00    |proj g|=  1.15836D-01

At iterate   26    f=  2.29778D+00    |proj g|=  1.19145D-01

At iterate   27    f=  2.29778D+00    |proj g|=  1.21533D-01

At iterate   28    f=  2.29776D+00    |proj g|=  1.25497D-01

At iterate   29    f=  2.29070D+00    |proj g|=  7.52324D-02

At iterate   30    f=  2.27456D+00    |proj g|=  1.27062D-01

At iterate   31    f=  2.27409D+00    |proj g|=  8.96982D-02

At iterate   32    f=  2.27207D+00    |proj g|=  3.04527D-02

At iterate   33    f=  2.27170D+00    |proj g|=  1.70468D-02

At iterate   34    f=  2.27155D+00    |proj g|=  6.02962D-03

At iterate   35    f=  2.27150D+00    |proj g|=  4.19433D-03

At iterate   36    f=  2.27146D+00    |proj g|=  4.21130D-03

At iterate   37    f=  2.27115D+00    |proj g|=  1.59982D-02

At iterate   38    f=  2.27050D+00    |proj g|=  3.20307D-02

At iterate   39    f=  2.26874D+00    |proj g|=  5.83353D-02

At iterate   40    f=  2.26515D+00    |proj g|=  8.55094D-02

At iterate   41    f=  2.25988D+00    |proj g|=  9.47493D-02

At iterate   42    f=  2.25758D+00    |proj g|=  9.47586D-02

At iterate   43    f=  2.25540D+00    |proj g|=  3.96133D-02

At iterate   44    f=  2.25475D+00    |proj g|=  1.33489D-02

At iterate   45    f=  2.25465D+00    |proj g|=  8.38312D-03

At iterate   46    f=  2.25460D+00    |proj g|=  8.52429D-03

At iterate   47    f=  2.25451D+00    |proj g|=  1.19320D-02

At iterate   48    f=  2.25426D+00    |proj g|=  1.47960D-02

At iterate   49    f=  2.25359D+00    |proj g|=  2.79243D-02

At iterate   50    f=  2.25224D+00    |proj g|=  4.37239D-02

At iterate   51    f=  2.24962D+00    |proj g|=  5.66733D-02

At iterate   52    f=  2.24765D+00    |proj g|=  3.81767D-02

At iterate   53    f=  2.24588D+00    |proj g|=  3.82196D-02

At iterate   54    f=  2.24494D+00    |proj g|=  1.60805D-02

At iterate   55    f=  2.24481D+00    |proj g|=  1.56917D-02

At iterate   56    f=  2.24474D+00    |proj g|=  3.92202D-03

At iterate   57    f=  2.24470D+00    |proj g|=  4.88161D-03

At iterate   58    f=  2.24469D+00    |proj g|=  3.55689D-03

At iterate   59    f=  2.24469D+00    |proj g|=  1.18479D-03

At iterate   60    f=  2.24469D+00    |proj g|=  2.07274D-03

At iterate   61    f=  2.24468D+00    |proj g|=  4.24549D-03

At iterate   62    f=  2.24467D+00    |proj g|=  8.14029D-03

At iterate   63    f=  2.24464D+00    |proj g|=  1.21072D-02

At iterate   64    f=  2.24459D+00    |proj g|=  1.40037D-02

At iterate   65    f=  2.24454D+00    |proj g|=  9.93254D-03

At iterate   66    f=  2.24452D+00    |proj g|=  3.11324D-03

At iterate   67    f=  2.24452D+00    |proj g|=  6.95177D-04

At iterate   68    f=  2.24452D+00    |proj g|=  1.09637D-03

At iterate   69    f=  2.24452D+00    |proj g|=  1.09606D-03

At iterate   70    f=  2.24451D+00    |proj g|=  6.25722D-04

At iterate   71    f=  2.24451D+00    |proj g|=  3.55094D-04

At iterate   72    f=  2.24451D+00    |proj g|=  8.03047D-04

At iterate   73    f=  2.24451D+00    |proj g|=  2.00062D-04

At iterate   74    f=  2.24451D+00    |proj g|=  1.43974D-04

At iterate   75    f=  2.24451D+00    |proj g|=  3.35287D-05

At iterate   76    f=  2.24451D+00    |proj g|=  6.60361D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    9     76     95     84     0     1   6.604D-05   2.245D+00
  F =   2.2445127181049198

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[9]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f7bad0053f0&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_14_2.png" src="../../../_images/examples_notebooks_generated_ets_14_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[10]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                                 ETS Results
==============================================================================
Dep. Variable:                      y   No. Observations:                   68
Model:                      ETS(AAdA)   Log Likelihood                -152.627
Date:                Mon, 15 Jul 2024   AIC                            327.254
Time:                        14:29:54   BIC                            351.668
Sample:                    03-01-1999   HQIC                           336.928
                         - 12-01-2015   Scale                            5.213
Covariance Type:               approx
======================================================================================
                         coef    std err          z      P&gt;|z|      [0.025      0.975]
--------------------------------------------------------------------------------------
smoothing_level        0.3399      0.111      3.070      0.002       0.123       0.557
smoothing_trend        0.0259      0.008      3.154      0.002       0.010       0.042
smoothing_seasonal     0.4010      0.080      5.041      0.000       0.245       0.557
damping_trend          0.9800        nan        nan        nan         nan         nan
initial_level         29.4409   4.74e+04      0.001      1.000   -9.28e+04    9.29e+04
initial_trend          0.6147      0.392      1.567      0.117      -0.154       1.383
initial_seasonal.0    -3.4320   4.74e+04  -7.24e-05      1.000   -9.29e+04    9.28e+04
initial_seasonal.1    -5.9481   4.74e+04     -0.000      1.000   -9.29e+04    9.28e+04
initial_seasonal.2   -11.4855   4.74e+04     -0.000      1.000   -9.29e+04    9.28e+04
initial_seasonal.3          0   4.74e+04          0      1.000   -9.28e+04    9.28e+04
===================================================================================
Ljung-Box (Q):                        5.76   Jarque-Bera (JB):                 7.70
Prob(Q):                              0.67   Prob(JB):                         0.02
Heteroskedasticity (H):               0.46   Skew:                            -0.63
Prob(H) (two-sided):                  0.07   Kurtosis:                         4.05
===================================================================================

Warnings:
[1] Covariance matrix calculated using numerical (complex-step) differentiation.
</pre></div></div>
</div>
<h2 id="Predictions">Predictions<a class="headerlink" href="#Predictions" title="Link to this heading">¶</a></h2>
<p>The ETS model can also be used for predicting. There are several different methods available: - <code class="docutils literal notranslate"><span class="pre">forecast</span></code>: makes out of sample predictions - <code class="docutils literal notranslate"><span class="pre">predict</span></code>: in sample and out of sample predictions - <code class="docutils literal notranslate"><span class="pre">simulate</span></code>: runs simulations of the statespace model - <code class="docutils literal notranslate"><span class="pre">get_prediction</span></code>: in sample and out of sample predictions, as well as prediction intervals</p>
<p>We can use them on our previously fitted model to predict from 2014 to 2020.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[11]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">pred</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">get_prediction</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2014&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2020&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[12]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pred</span><span class="o">.</span><span class="n">summary_frame</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">df</span>
</code></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[12]:
</code></pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>pi_lower</th>
      <th>pi_upper</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2014-03-01</th>
      <td>67.610926</td>
      <td>63.135953</td>
      <td>72.085899</td>
    </tr>
    <tr>
      <th>2014-06-01</th>
      <td>42.814534</td>
      <td>38.339561</td>
      <td>47.289507</td>
    </tr>
    <tr>
      <th>2014-09-01</th>
      <td>54.106399</td>
      <td>49.631426</td>
      <td>58.581372</td>
    </tr>
    <tr>
      <th>2014-12-01</th>
      <td>57.928232</td>
      <td>53.453259</td>
      <td>62.403204</td>
    </tr>
    <tr>
      <th>2015-03-01</th>
      <td>68.422037</td>
      <td>63.947064</td>
      <td>72.897010</td>
    </tr>
    <tr>
      <th>2015-06-01</th>
      <td>47.278132</td>
      <td>42.803159</td>
      <td>51.753105</td>
    </tr>
    <tr>
      <th>2015-09-01</th>
      <td>58.954911</td>
      <td>54.479938</td>
      <td>63.429884</td>
    </tr>
    <tr>
      <th>2015-12-01</th>
      <td>63.982281</td>
      <td>59.507308</td>
      <td>68.457254</td>
    </tr>
    <tr>
      <th>2016-03-01</th>
      <td>75.905266</td>
      <td>71.430293</td>
      <td>80.380239</td>
    </tr>
    <tr>
      <th>2016-06-01</th>
      <td>51.417926</td>
      <td>46.653727</td>
      <td>56.182125</td>
    </tr>
    <tr>
      <th>2016-09-01</th>
      <td>63.703065</td>
      <td>58.628997</td>
      <td>68.777133</td>
    </tr>
    <tr>
      <th>2016-12-01</th>
      <td>67.977755</td>
      <td>62.575199</td>
      <td>73.380311</td>
    </tr>
    <tr>
      <th>2017-03-01</th>
      <td>78.315246</td>
      <td>71.735000</td>
      <td>84.895491</td>
    </tr>
    <tr>
      <th>2017-06-01</th>
      <td>53.779706</td>
      <td>46.882508</td>
      <td>60.676903</td>
    </tr>
    <tr>
      <th>2017-09-01</th>
      <td>66.017609</td>
      <td>58.787255</td>
      <td>73.247964</td>
    </tr>
    <tr>
      <th>2017-12-01</th>
      <td>70.246008</td>
      <td>62.667652</td>
      <td>77.824364</td>
    </tr>
    <tr>
      <th>2018-03-01</th>
      <td>80.538134</td>
      <td>71.891483</td>
      <td>89.184785</td>
    </tr>
    <tr>
      <th>2018-06-01</th>
      <td>55.958136</td>
      <td>46.966880</td>
      <td>64.949392</td>
    </tr>
    <tr>
      <th>2018-09-01</th>
      <td>68.152471</td>
      <td>58.803847</td>
      <td>77.501095</td>
    </tr>
    <tr>
      <th>2018-12-01</th>
      <td>72.338173</td>
      <td>62.620421</td>
      <td>82.055925</td>
    </tr>
    <tr>
      <th>2019-03-01</th>
      <td>82.588455</td>
      <td>71.863153</td>
      <td>93.313757</td>
    </tr>
    <tr>
      <th>2019-06-01</th>
      <td>57.967451</td>
      <td>46.874297</td>
      <td>69.060605</td>
    </tr>
    <tr>
      <th>2019-09-01</th>
      <td>70.121600</td>
      <td>58.650477</td>
      <td>81.592722</td>
    </tr>
    <tr>
      <th>2019-12-01</th>
      <td>74.267919</td>
      <td>62.409479</td>
      <td>86.126358</td>
    </tr>
    <tr>
      <th>2020-03-01</th>
      <td>84.479606</td>
      <td>71.654614</td>
      <td>97.304598</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>In this case the prediction intervals were calculated using an analytical formula. This is not available for all models. For these other models, prediction intervals are calculated by performing multiple simulations (1000 by default) and using the percentiles of the simulation results. This is done internally by the <code class="docutils literal notranslate"><span class="pre">get_prediction</span></code> method.</p>
<p>We can also manually run simulations, e.g. to plot them. Since the data ranges until end of 2015, we have to simulate from the first quarter of 2016 to the first quarter of 2020, which means 17 steps.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[13]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="n">simulated</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;end&quot;</span><span class="p">,</span> <span class="n">nsimulations</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">repetitions</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[14]:
</code></pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">simulated</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
    <span class="n">simulated</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;mean prediction&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;pi_lower&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;95</span><span class="si">% i</span><span class="s2">nterval&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;pi_upper&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
<span class="n">pred</span><span class="o">.</span><span class="n">endog</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span><code>[14]:
</code></pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.legend.Legend at 0x7f7ba8627f70&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../../_images/examples_notebooks_generated_ets_21_1.png" src="../../../_images/examples_notebooks_generated_ets_21_1.png" />
</div>
</div>
<p>In this case, we chose “end” as simulation anchor, which means that the first simulated value will be the first out of sample value. It is also possible to choose other anchor inside the sample.</p>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      Jul 15, 2024
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="statespace_custom_models.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Custom statespace models" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Custom statespace models
            </div>
          </div>
        </a>
      
      
        
        <a href="statespace_concentrated_scale.html" class="md-footer__link md-footer__link--next" aria-label="Next: State space models - concentrating the scale out of the likelihood function" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              State space models - concentrating the scale out of the likelihood function
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2009-2023, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.3.7.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/statsmodels/statsmodels/" target="_blank" rel="noopener" title="Source on github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://pypi.org/project/statsmodels/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://doi.org/10.5281/zenodo.593847" target="_blank" rel="noopener" title="doi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64h-64c-35.3 0-64-28.7-64-64V216z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": "../versions-v3.json"}}</script>
    
      
        <script src="../../../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script id="MathJax-script" src="../../../_static/mathjax/tex-mml-chtml.js?v=cadf963e"></script>
    
  </body>
</html>