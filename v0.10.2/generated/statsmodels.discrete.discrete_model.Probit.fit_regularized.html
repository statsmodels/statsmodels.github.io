

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>statsmodels.discrete.discrete_model.Probit.fit_regularized &#8212; statsmodels v0.10.2 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="statsmodels.discrete.discrete_model.Probit.from_formula" href="statsmodels.discrete.discrete_model.Probit.from_formula.html" />
    <link rel="prev" title="statsmodels.discrete.discrete_model.Probit.fit" href="statsmodels.discrete.discrete_model.Probit.fit.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>
<script type="text/javascript">
$.facebox.settings.closeImage = "../_static/closelabel.png"
$.facebox.settings.loadingImage = "../_static/loading.gif"
</script>

<script>
$(document).ready(function() {
  $.getJSON("../../versions.json", function(versions) {
    var dropdown = document.createElement("div");
    dropdown.className = "dropdown";
    var button = document.createElement("button");
    button.className = "dropbtn";
    button.innerHTML = "Other Versions";
    var content = document.createElement("div");
    content.className = "dropdown-content";
    dropdown.appendChild(button);
    dropdown.appendChild(content);
    $(".header").prepend(dropdown);
    for (var i = 0; i < versions.length; i++) {
      if (versions[i].substring(0, 1) == "v") {
        versions[i] = [versions[i], versions[i].substring(1)];
      } else {
        versions[i] = [versions[i], versions[i]];
      };
    };
    for (var i = 0; i < versions.length; i++) {
      var a = document.createElement("a");
      a.innerHTML = versions[i][1];
      a.href = "../../" + versions[i][0] + "/index.html";
      a.title = versions[i][1];
      $(".dropdown-content").append(a);
    };
  });
});
</script>


  </head><body>
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="statsmodels.discrete.discrete_model.Probit.from_formula.html" title="statsmodels.discrete.discrete_model.Probit.from_formula"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statsmodels.discrete.discrete_model.Probit.fit.html" title="statsmodels.discrete.discrete_model.Probit.fit"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/forum/?hl=en#!forum/pystatsmodels">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="../dev/index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="../discretemod.html" >Regression with Discrete Dependent Variable</a> |</li>
          <li class="nav-item nav-item-2"><a href="statsmodels.discrete.discrete_model.Probit.html" accesskey="U">statsmodels.discrete.discrete_model.Probit</a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="statsmodels-discrete-discrete-model-probit-fit-regularized">
<h1>statsmodels.discrete.discrete_model.Probit.fit_regularized<a class="headerlink" href="#statsmodels-discrete-discrete-model-probit-fit-regularized" title="Permalink to this headline">¶</a></h1>
<p>method</p>
<dl class="method">
<dt id="statsmodels.discrete.discrete_model.Probit.fit_regularized">
<code class="sig-prename descclassname">Probit.</code><code class="sig-name descname">fit_regularized</code><span class="sig-paren">(</span><em class="sig-param">start_params=None</em>, <em class="sig-param">method='l1'</em>, <em class="sig-param">maxiter='defined_by_method'</em>, <em class="sig-param">full_output=1</em>, <em class="sig-param">disp=1</em>, <em class="sig-param">callback=None</em>, <em class="sig-param">alpha=0</em>, <em class="sig-param">trim_mode='auto'</em>, <em class="sig-param">auto_trim_tol=0.01</em>, <em class="sig-param">size_trim_tol=0.0001</em>, <em class="sig-param">qc_tol=0.03</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#statsmodels.discrete.discrete_model.Probit.fit_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model using a regularized maximum likelihood.
The regularization method AND the solver used is determined by the
argument method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start_params</strong><span class="classifier">array-like, optional</span></dt><dd><p>Initial guess of the solution for the loglikelihood maximization.
The default is an array of zeros.</p>
</dd>
<dt><strong>method</strong><span class="classifier">‘l1’ or ‘l1_cvxopt_cp’</span></dt><dd><p>See notes for details.</p>
</dd>
<dt><strong>maxiter</strong><span class="classifier">Integer or ‘defined_by_method’</span></dt><dd><p>Maximum number of iterations to perform.
If ‘defined_by_method’, then use method defaults (see notes).</p>
</dd>
<dt><strong>full_output</strong><span class="classifier">bool</span></dt><dd><p>Set to True to have all available output in the Results object’s
mle_retvals attribute. The output is dependent on the solver.
See LikelihoodModelResults notes section for more information.</p>
</dd>
<dt><strong>disp</strong><span class="classifier">bool</span></dt><dd><p>Set to True to print convergence messages.</p>
</dd>
<dt><strong>fargs</strong><span class="classifier">tuple</span></dt><dd><p>Extra arguments passed to the likelihood function, i.e.,
loglike(x,*args)</p>
</dd>
<dt><strong>callback</strong><span class="classifier">callable callback(xk)</span></dt><dd><p>Called after each iteration, as callback(xk), where xk is the
current parameter vector.</p>
</dd>
<dt><strong>retall</strong><span class="classifier">bool</span></dt><dd><p>Set to True to return list of solutions at each iteration.
Available in Results object’s mle_retvals attribute.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">non-negative scalar or numpy array (same size as parameters)</span></dt><dd><p>The weight multiplying the l1 penalty term</p>
</dd>
<dt><strong>trim_mode</strong><span class="classifier">‘auto, ‘size’, or ‘off’</span></dt><dd><p>If not ‘off’, trim (set to zero) parameters that would have been
zero if the solver reached the theoretical minimum.
If ‘auto’, trim params using the Theory above.
If ‘size’, trim params if they have very small absolute value</p>
</dd>
<dt><strong>size_trim_tol</strong><span class="classifier">float or ‘auto’ (default = ‘auto’)</span></dt><dd><p>For use when trim_mode == ‘size’</p>
</dd>
<dt><strong>auto_trim_tol</strong><span class="classifier">float</span></dt><dd><p>For sue when trim_mode == ‘auto’.  Use</p>
</dd>
<dt><strong>qc_tol</strong><span class="classifier">float</span></dt><dd><p>Print warning and don’t allow auto trim when (ii) (above) is
violated by this much.</p>
</dd>
<dt><strong>qc_verbose</strong><span class="classifier">Boolean</span></dt><dd><p>If true, print out a full QC report upon failure</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Extra parameters are not penalized if alpha is given as a scalar.
An example is the shape parameter in NegativeBinomial <cite>nb1</cite> and <cite>nb2</cite>.</p>
<p>Optional arguments for the solvers (available in Results.mle_settings):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;l1&#39;</span>
    <span class="n">acc</span> <span class="p">:</span> <span class="nb">float</span> <span class="p">(</span><span class="n">default</span> <span class="mf">1e-6</span><span class="p">)</span>
        <span class="n">Requested</span> <span class="n">accuracy</span> <span class="k">as</span> <span class="n">used</span> <span class="n">by</span> <span class="n">slsqp</span>
<span class="s1">&#39;l1_cvxopt_cp&#39;</span>
    <span class="n">abstol</span> <span class="p">:</span> <span class="nb">float</span>
        <span class="n">absolute</span> <span class="n">accuracy</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mf">1e-7</span><span class="p">)</span><span class="o">.</span>
    <span class="n">reltol</span> <span class="p">:</span> <span class="nb">float</span>
        <span class="n">relative</span> <span class="n">accuracy</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mf">1e-6</span><span class="p">)</span><span class="o">.</span>
    <span class="n">feastol</span> <span class="p">:</span> <span class="nb">float</span>
        <span class="n">tolerance</span> <span class="k">for</span> <span class="n">feasibility</span> <span class="n">conditions</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mf">1e-7</span><span class="p">)</span><span class="o">.</span>
    <span class="n">refinement</span> <span class="p">:</span> <span class="nb">int</span>
        <span class="n">number</span> <span class="n">of</span> <span class="n">iterative</span> <span class="n">refinement</span> <span class="n">steps</span> <span class="n">when</span> <span class="n">solving</span> <span class="n">KKT</span>
        <span class="n">equations</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>Optimization methodology</p>
<p>With <span class="math notranslate nohighlight">\(L\)</span> the negative log likelihood, we solve the convex but
non-smooth problem</p>
<div class="math notranslate nohighlight">
\[\min_\beta L(\beta) + \sum_k\alpha_k |\beta_k|\]</div>
<p>via the transformation to the smooth, convex, constrained problem
in twice as many variables (adding the “added variables” <span class="math notranslate nohighlight">\(u_k\)</span>)</p>
<div class="math notranslate nohighlight">
\[\min_{\beta,u} L(\beta) + \sum_k\alpha_k u_k,\]</div>
<p>subject to</p>
<div class="math notranslate nohighlight">
\[-u_k \leq \beta_k \leq u_k.\]</div>
<p>With <span class="math notranslate nohighlight">\(\partial_k L\)</span> the derivative of <span class="math notranslate nohighlight">\(L\)</span> in the
<span class="math notranslate nohighlight">\(k^{th}\)</span> parameter direction, theory dictates that, at the
minimum, exactly one of two conditions holds:</p>
<ol class="lowerroman simple">
<li><p><span class="math notranslate nohighlight">\(|\partial_k L| = \alpha_k\)</span>  and  <span class="math notranslate nohighlight">\(\beta_k \neq 0\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(|\partial_k L| \leq \alpha_k\)</span>  and  <span class="math notranslate nohighlight">\(\beta_k = 0\)</span></p></li>
</ol>
</dd></dl>

</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="statsmodels.discrete.discrete_model.Probit.fit.html"
                        title="previous chapter">statsmodels.discrete.discrete_model.Probit.fit</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="statsmodels.discrete.discrete_model.Probit.from_formula.html"
                        title="next chapter">statsmodels.discrete.discrete_model.Probit.from_formula</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/statsmodels.discrete.discrete_model.Probit.fit_regularized.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>