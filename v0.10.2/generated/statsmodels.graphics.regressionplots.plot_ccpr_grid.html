

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>statsmodels.graphics.regressionplots.plot_ccpr_grid &#8212; statsmodels v0.10.2 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="statsmodels.graphics.regressionplots.plot_ceres_residuals" href="statsmodels.graphics.regressionplots.plot_ceres_residuals.html" />
    <link rel="prev" title="statsmodels.graphics.regressionplots.plot_ccpr" href="statsmodels.graphics.regressionplots.plot_ccpr.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>
<script type="text/javascript">
$.facebox.settings.closeImage = "../_static/closelabel.png"
$.facebox.settings.loadingImage = "../_static/loading.gif"
</script>

<script>
$(document).ready(function() {
  $.getJSON("../../versions.json", function(versions) {
    var dropdown = document.createElement("div");
    dropdown.className = "dropdown";
    var button = document.createElement("button");
    button.className = "dropbtn";
    button.innerHTML = "Other Versions";
    var content = document.createElement("div");
    content.className = "dropdown-content";
    dropdown.appendChild(button);
    dropdown.appendChild(content);
    $(".header").prepend(dropdown);
    for (var i = 0; i < versions.length; i++) {
      if (versions[i].substring(0, 1) == "v") {
        versions[i] = [versions[i], versions[i].substring(1)];
      } else {
        versions[i] = [versions[i], versions[i]];
      };
    };
    for (var i = 0; i < versions.length; i++) {
      var a = document.createElement("a");
      a.innerHTML = versions[i][1];
      a.href = "../../" + versions[i][0] + "/index.html";
      a.title = versions[i][1];
      $(".dropdown-content").append(a);
    };
  });
});
</script>


  </head><body>
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="statsmodels.graphics.regressionplots.plot_ceres_residuals.html" title="statsmodels.graphics.regressionplots.plot_ceres_residuals"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statsmodels.graphics.regressionplots.plot_ccpr.html" title="statsmodels.graphics.regressionplots.plot_ccpr"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/forum/?hl=en#!forum/pystatsmodels">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="../dev/index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="../graphics.html" accesskey="U">Graphics</a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="statsmodels-graphics-regressionplots-plot-ccpr-grid">
<h1>statsmodels.graphics.regressionplots.plot_ccpr_grid<a class="headerlink" href="#statsmodels-graphics-regressionplots-plot-ccpr-grid" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="statsmodels.graphics.regressionplots.plot_ccpr_grid">
<code class="sig-prename descclassname">statsmodels.graphics.regressionplots.</code><code class="sig-name descname">plot_ccpr_grid</code><span class="sig-paren">(</span><em class="sig-param">results</em>, <em class="sig-param">exog_idx=None</em>, <em class="sig-param">grid=None</em>, <em class="sig-param">fig=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statsmodels/graphics/regressionplots.html#plot_ccpr_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.graphics.regressionplots.plot_ccpr_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate CCPR plots against a set of regressors, plot in a grid.</p>
<p>Generates a grid of CCPR (component and component-plus-residual) plots.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>results</strong><span class="classifier">result instance</span></dt><dd><p>uses exog and params of the result instance</p>
</dd>
<dt><strong>exog_idx</strong><span class="classifier">None or list of int</span></dt><dd><p>(column) indices of the exog used in the plot</p>
</dd>
<dt><strong>grid</strong><span class="classifier">None or tuple of int (nrows, ncols)</span></dt><dd><p>If grid is given, then it is used for the arrangement of the subplots.
If grid is None, then ncol is one, if there are only 2 subplots, and
the number of columns is two otherwise.</p>
</dd>
<dt><strong>fig</strong><span class="classifier">Matplotlib figure instance, optional</span></dt><dd><p>If given, this figure is simply returned.  Otherwise a new figure is
created.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>fig</strong><span class="classifier">Matplotlib figure instance</span></dt><dd><p>If <cite>ax</cite> is None, the created figure.  Otherwise the figure to which
<cite>ax</cite> is connected.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="statsmodels.graphics.regressionplots.plot_ccpr.html#statsmodels.graphics.regressionplots.plot_ccpr" title="statsmodels.graphics.regressionplots.plot_ccpr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_ccpr</span></code></a></dt><dd><p>Creates CCPR plot for a single regressor.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Partial residual plots are formed as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Res</span> <span class="o">+</span> <span class="n">Betahat</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">Xi</span> <span class="n">versus</span> <span class="n">Xi</span>
</pre></div>
</div>
<p>and CCPR adds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Betahat</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">Xi</span> <span class="n">versus</span> <span class="n">Xi</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>See <a class="reference external" href="http://www.itl.nist.gov/div898/software/dataplot/refman1/auxillar/ccpr.htm">http://www.itl.nist.gov/div898/software/dataplot/refman1/auxillar/ccpr.htm</a></p>
<p class="rubric">Examples</p>
<p>Using the state crime dataset seperately plot the effect of the each
variable on the on the outcome, murder rate while accounting for the effect
of all other variables in the model.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crime_data</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">statecrime</span><span class="o">.</span><span class="n">load_pandas</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;murder ~ hs_grad + urban + poverty + single&#39;</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">data</span><span class="o">=</span><span class="n">crime_data</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sm</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_ccpr_grid</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../plots/graphics_regression_ccpr_grid.py">Source code</a>, <a class="reference external" href="../plots/graphics_regression_ccpr_grid.png">png</a>, <a class="reference external" href="../plots/graphics_regression_ccpr_grid.hires.png">hires.png</a>, <a class="reference external" href="../plots/graphics_regression_ccpr_grid.pdf">pdf</a>)</p>
<div class="figure align-default">
<img alt="../_images/graphics_regression_ccpr_grid.png" src="../_images/graphics_regression_ccpr_grid.png" />
</div>
</dd></dl>

</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="statsmodels.graphics.regressionplots.plot_ccpr.html"
                        title="previous chapter">statsmodels.graphics.regressionplots.plot_ccpr</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="statsmodels.graphics.regressionplots.plot_ceres_residuals.html"
                        title="next chapter">statsmodels.graphics.regressionplots.plot_ceres_residuals</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/statsmodels.graphics.regressionplots.plot_ccpr_grid.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>