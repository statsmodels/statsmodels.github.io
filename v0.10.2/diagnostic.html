

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Regression Diagnostics and Specification Tests &#8212; statsmodels v0.10.2 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" href="_static/examples.css" type="text/css" />
<link rel="stylesheet" href="_static/facebox.css" type="text/css" />
<script type="text/javascript" src="_static/scripts.js">
</script>
<script type="text/javascript" src="_static/facebox.js">
</script>
<script type="text/javascript">
$.facebox.settings.closeImage = "_static/closelabel.png"
$.facebox.settings.loadingImage = "_static/loading.gif"
</script>

<script>
$(document).ready(function() {
  $.getJSON("../versions.json", function(versions) {
    var dropdown = document.createElement("div");
    dropdown.className = "dropdown";
    var button = document.createElement("button");
    button.className = "dropbtn";
    button.innerHTML = "Other Versions";
    var content = document.createElement("div");
    content.className = "dropdown-content";
    dropdown.appendChild(button);
    dropdown.appendChild(content);
    $(".header").prepend(dropdown);
    for (var i = 0; i < versions.length; i++) {
      if (versions[i].substring(0, 1) == "v") {
        versions[i] = [versions[i], versions[i].substring(1)];
      } else {
        versions[i] = [versions[i], versions[i]];
      };
    };
    for (var i = 0; i < versions.length; i++) {
      var a = document.createElement("a");
      a.innerHTML = versions[i][1];
      a.href = "../" + versions[i][0] + "/index.html";
      a.title = versions[i][1];
      $(".dropdown-content").append(a);
    };
  });
});
</script>


  </head><body>
<div class="headerwrap">
    <div class = "header">
        
        <a href = "index.html">
<img src="_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
<li><a href ="install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/forum/?hl=en#!forum/pystatsmodels">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="dev/index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="faq.html">FAQ</a></li> &nbsp;|&nbsp;
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="regression-diagnostics-and-specification-tests">
<span id="diagnostics"></span><h1>Regression Diagnostics and Specification Tests<a class="headerlink" href="#regression-diagnostics-and-specification-tests" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In many cases of statistical analysis, we are not sure whether our statistical
model is correctly specified. For example when using ols, then linearity and
homoscedasticity are assumed, some test statistics additionally assume that
the errors are normally distributed or that we have a large sample.
Since our results depend on these statistical assumptions, the results are
only correct of our assumptions hold (at least approximately).</p>
<p>One solution to the problem of uncertainty about the correct specification is
to use robust methods, for example robust regression or robust covariance
(sandwich) estimators. The second approach is to test whether our sample is
consistent with these assumptions.</p>
<p>The following briefly summarizes specification and diagnostics tests for
linear regression.</p>
</div>
<div class="section" id="heteroscedasticity-tests">
<h2>Heteroscedasticity Tests<a class="headerlink" href="#heteroscedasticity-tests" title="Permalink to this headline">¶</a></h2>
<p>For these test the null hypothesis is that all observations have the same
error variance, i.e. errors are homoscedastic. The tests differ in which kind
of heteroscedasticity is considered as alternative hypothesis. They also vary
in the power of the test for different types of heteroscedasticity.</p>
<dl class="simple">
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.het_breuschpagan.html#statsmodels.stats.diagnostic.het_breuschpagan" title="statsmodels.stats.diagnostic.het_breuschpagan"><code class="xref py py-func docutils literal notranslate"><span class="pre">het_breuschpagan</span></code></a></dt><dd><p>Lagrange Multiplier Heteroscedasticity Test by Breusch-Pagan</p>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.het_white.html#statsmodels.stats.diagnostic.het_white" title="statsmodels.stats.diagnostic.het_white"><code class="xref py py-func docutils literal notranslate"><span class="pre">het_white</span></code></a></dt><dd><p>Lagrange Multiplier Heteroscedasticity Test by White</p>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.het_goldfeldquandt.html#statsmodels.stats.diagnostic.het_goldfeldquandt" title="statsmodels.stats.diagnostic.het_goldfeldquandt"><code class="xref py py-func docutils literal notranslate"><span class="pre">het_goldfeldquandt</span></code></a></dt><dd><p>test whether variance is the same in 2 subsamples</p>
</dd>
</dl>
</div>
<div class="section" id="autocorrelation-tests">
<h2>Autocorrelation Tests<a class="headerlink" href="#autocorrelation-tests" title="Permalink to this headline">¶</a></h2>
<p>This group of test whether the regression residuals are not autocorrelated.
They assume that observations are ordered by time.</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">durbin_watson</span></code></dt><dd><ul class="simple">
<li><p>Durbin-Watson test for no autocorrelation of residuals</p></li>
<li><p>printed with summary()</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.acorr_ljungbox.html#statsmodels.stats.diagnostic.acorr_ljungbox" title="statsmodels.stats.diagnostic.acorr_ljungbox"><code class="xref py py-func docutils literal notranslate"><span class="pre">acorr_ljungbox</span></code></a></dt><dd><ul class="simple">
<li><p>Ljung-Box test for no autocorrelation of residuals</p></li>
<li><p>also returns Box-Pierce statistic</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.acorr_breusch_godfrey.html#statsmodels.stats.diagnostic.acorr_breusch_godfrey" title="statsmodels.stats.diagnostic.acorr_breusch_godfrey"><code class="xref py py-func docutils literal notranslate"><span class="pre">acorr_breusch_godfrey</span></code></a></dt><dd><ul class="simple">
<li><p>Breusch-Pagan test for no autocorrelation of residuals</p></li>
</ul>
</dd>
<dt>missing</dt><dd><ul class="simple">
<li><p>?</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="non-linearity-tests">
<h2>Non-Linearity Tests<a class="headerlink" href="#non-linearity-tests" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.linear_harvey_collier.html#statsmodels.stats.diagnostic.linear_harvey_collier" title="statsmodels.stats.diagnostic.linear_harvey_collier"><code class="xref py py-func docutils literal notranslate"><span class="pre">linear_harvey_collier</span></code></a></dt><dd><ul class="simple">
<li><p>Multiplier test for Null hypothesis that linear specification is
correct</p></li>
</ul>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">acorr_linear_rainbow</span></code></dt><dd><ul class="simple">
<li><p>Multiplier test for Null hypothesis that linear specification is
correct.</p></li>
</ul>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">acorr_linear_lm</span></code></dt><dd><ul class="simple">
<li><p>Lagrange Multiplier test for Null hypothesis that linear specification is
correct. This tests against specific functional alternatives.</p></li>
</ul>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">spec_white</span></code></dt><dd><ul class="simple">
<li><p>White’s two-moment specification test with null hypothesis of homoscedastic
and correctly specified.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="tests-for-structural-change-parameter-stability">
<h2>Tests for Structural Change, Parameter Stability<a class="headerlink" href="#tests-for-structural-change-parameter-stability" title="Permalink to this headline">¶</a></h2>
<p>Test whether all or some regression coefficient are constant over the
entire data sample.</p>
<div class="section" id="known-change-point">
<h3>Known Change Point<a class="headerlink" href="#known-change-point" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>OneWayLS :</dt><dd><ul class="simple">
<li><p>flexible ols wrapper for testing identical regression coefficients across
predefined subsamples (eg. groups)</p></li>
</ul>
</dd>
<dt>missing</dt><dd><ul class="simple">
<li><p>predictive test: Greene, number of observations in subsample is smaller than
number of regressors</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="unknown-change-point">
<h3>Unknown Change Point<a class="headerlink" href="#unknown-change-point" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.breaks_cusumolsresid.html#statsmodels.stats.diagnostic.breaks_cusumolsresid" title="statsmodels.stats.diagnostic.breaks_cusumolsresid"><code class="xref py py-func docutils literal notranslate"><span class="pre">breaks_cusumolsresid</span></code></a></dt><dd><ul class="simple">
<li><p>cusum test for parameter stability based on ols residuals</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.breaks_hansen.html#statsmodels.stats.diagnostic.breaks_hansen" title="statsmodels.stats.diagnostic.breaks_hansen"><code class="xref py py-func docutils literal notranslate"><span class="pre">breaks_hansen</span></code></a></dt><dd><ul class="simple">
<li><p>test for model stability, breaks in parameters for ols, Hansen 1992</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.recursive_olsresiduals.html#statsmodels.stats.diagnostic.recursive_olsresiduals" title="statsmodels.stats.diagnostic.recursive_olsresiduals"><code class="xref py py-func docutils literal notranslate"><span class="pre">recursive_olsresiduals</span></code></a></dt><dd><p>Calculate recursive ols with residuals and cusum test statistic. This is
currently mainly helper function for recursive residual based tests.
However, since it uses recursive updating and doesn’t estimate separate
problems it should be also quite efficient as expanding OLS function.</p>
</dd>
<dt>missing</dt><dd><ul class="simple">
<li><p>supLM, expLM, aveLM  (Andrews, Andrews/Ploberger)</p></li>
<li><p>R-structchange also has musum (moving cumulative sum tests)</p></li>
<li><p>test on recursive parameter estimates, which are there?</p></li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="mutlicollinearity-tests">
<h2>Mutlicollinearity Tests<a class="headerlink" href="#mutlicollinearity-tests" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>conditionnum (statsmodels.stattools)</dt><dd><ul class="simple">
<li><p>– needs test vs Stata –</p></li>
<li><p>cf Grene (3rd ed.) pp 57-8</p></li>
</ul>
</dd>
<dt>numpy.linalg.cond</dt><dd><ul class="simple">
<li><p>(for more general condition numbers, but no behind the scenes help for
design preparation)</p></li>
</ul>
</dd>
<dt>Variance Inflation Factors</dt><dd><p>This is currently together with influence and outlier measures
(with some links to other tests here: <a class="reference external" href="http://www.stata.com/help.cgi?vif">http://www.stata.com/help.cgi?vif</a>)</p>
</dd>
</dl>
</div>
<div class="section" id="normality-and-distribution-tests">
<h2>Normality and Distribution Tests<a class="headerlink" href="#normality-and-distribution-tests" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">jarque_bera</span></code></dt><dd><ul class="simple">
<li><p>printed with summary()</p></li>
<li><p>test for normal distribution of residuals</p></li>
</ul>
</dd>
<dt>Normality tests in scipy stats</dt><dd><p>need to find list again</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">omni_normtest</span></code></dt><dd><ul class="simple">
<li><p>test for normal distribution of residuals</p></li>
<li><p>printed with summary()</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.normal_ad.html#statsmodels.stats.diagnostic.normal_ad" title="statsmodels.stats.diagnostic.normal_ad"><code class="xref py py-func docutils literal notranslate"><span class="pre">normal_ad</span></code></a></dt><dd><ul class="simple">
<li><p>Anderson Darling test for normality with estimated mean and variance</p></li>
</ul>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.kstest_normal.html#statsmodels.stats.diagnostic.kstest_normal" title="statsmodels.stats.diagnostic.kstest_normal"><code class="xref py py-func docutils literal notranslate"><span class="pre">kstest_normal</span></code></a> <a class="reference internal" href="generated/statsmodels.stats.diagnostic.lilliefors.html#statsmodels.stats.diagnostic.lilliefors" title="statsmodels.stats.diagnostic.lilliefors"><code class="xref py py-func docutils literal notranslate"><span class="pre">lilliefors</span></code></a></dt><dd><p>Lilliefors test for normality, this is a Kolmogorov-Smirnov tes with for
normality with estimated mean and variance. lilliefors is an alias for
kstest_normal</p>
</dd>
</dl>
<p>qqplot, scipy.stats.probplot</p>
<dl class="simple">
<dt>other goodness-of-fit tests for distributions in scipy.stats and enhancements</dt><dd><ul class="simple">
<li><p>kolmogorov-smirnov</p></li>
<li><p>anderson : Anderson-Darling</p></li>
<li><p>likelihood-ratio, …</p></li>
<li><p>chisquare tests, powerdiscrepancy : needs wrapping (for binning)</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="outlier-and-influence-diagnostic-measures">
<h2>Outlier and Influence Diagnostic Measures<a class="headerlink" href="#outlier-and-influence-diagnostic-measures" title="Permalink to this headline">¶</a></h2>
<p>These measures try to identify observations that are outliers, with large
residual, or observations that have a large influence on the regression
estimates. Robust Regression, RLM, can be used to both estimate in an outlier
robust way as well as identify outlier. The advantage of RLM that the
estimation results are not strongly influenced even if there are many
outliers, while most of the other measures are better in identifying
individual outliers and might not be able to identify groups of outliers.</p>
<dl>
<dt><a class="reference internal" href="generated/statsmodels.robust.robust_linear_model.RLM.html#statsmodels.robust.robust_linear_model.RLM" title="statsmodels.robust.robust_linear_model.RLM"><code class="xref py py-class docutils literal notranslate"><span class="pre">RLM</span></code></a></dt><dd><p>example from example_rlm.py</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1">### Example for using Huber&#39;s T norm with the default</span>
<span class="c1">### median absolute deviation scaling</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">stackloss</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">exog</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">exog</span><span class="p">)</span>
<span class="n">huber_t</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">RLM</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">endog</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">exog</span><span class="p">,</span> <span class="n">M</span><span class="o">=</span><span class="n">sm</span><span class="o">.</span><span class="n">robust</span><span class="o">.</span><span class="n">norms</span><span class="o">.</span><span class="n">HuberT</span><span class="p">())</span>
<span class="n">hub_results</span> <span class="o">=</span> <span class="n">huber_t</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hub_results</span><span class="o">.</span><span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
<p>And the weights give an idea of how much a particular observation is
down-weighted according to the scaling asked for.</p>
</dd>
<dt><a class="reference internal" href="generated/statsmodels.stats.outliers_influence.OLSInfluence.html#statsmodels.stats.outliers_influence.OLSInfluence" title="statsmodels.stats.outliers_influence.OLSInfluence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Influence</span></code></a></dt><dd><p>Class in stats.outliers_influence, most standard measures for outliers
and influence are available as methods or attributes given a fitted
OLS model. This is mainly written for OLS, some but not all measures
are also valid for other models.
Some of these statistics can be calculated from an OLS results instance,
others require that an OLS is estimated for each left out variable.</p>
<ul class="simple">
<li><p>resid_press</p></li>
<li><p>resid_studentized_external</p></li>
<li><p>resid_studentized_internal</p></li>
<li><p>ess_press</p></li>
<li><p>hat_matrix_diag</p></li>
<li><p>cooks_distance - Cook’s Distance <a class="reference external" href="http://en.wikipedia.org/wiki/Cook%27s_distance">Wikipedia</a> (with some other links)</p></li>
<li><p>cov_ratio</p></li>
<li><p>dfbetas</p></li>
<li><p>dffits</p></li>
<li><p>dffits_internal</p></li>
<li><p>det_cov_params_not_obsi</p></li>
<li><p>params_not_obsi</p></li>
<li><p>sigma2_not_obsi</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="unit-root-tests">
<h2>Unit Root Tests<a class="headerlink" href="#unit-root-tests" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><a class="reference internal" href="generated/statsmodels.stats.diagnostic.unitroot_adf.html#statsmodels.stats.diagnostic.unitroot_adf" title="statsmodels.stats.diagnostic.unitroot_adf"><code class="xref py py-func docutils literal notranslate"><span class="pre">unitroot_adf</span></code></a></dt><dd><ul class="simple">
<li><p>same as adfuller but with different signature</p></li>
</ul>
</dd>
</dl>
</div>
</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Regression Diagnostics and Specification Tests</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#heteroscedasticity-tests">Heteroscedasticity Tests</a></li>
<li><a class="reference internal" href="#autocorrelation-tests">Autocorrelation Tests</a></li>
<li><a class="reference internal" href="#non-linearity-tests">Non-Linearity Tests</a></li>
<li><a class="reference internal" href="#tests-for-structural-change-parameter-stability">Tests for Structural Change, Parameter Stability</a><ul>
<li><a class="reference internal" href="#known-change-point">Known Change Point</a></li>
<li><a class="reference internal" href="#unknown-change-point">Unknown Change Point</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mutlicollinearity-tests">Mutlicollinearity Tests</a></li>
<li><a class="reference internal" href="#normality-and-distribution-tests">Normality and Distribution Tests</a></li>
<li><a class="reference internal" href="#outlier-and-influence-diagnostic-measures">Outlier and Influence Diagnostic Measures</a></li>
<li><a class="reference internal" href="#unit-root-tests">Unit Root Tests</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/diagnostic.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2018, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>