

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>statsmodels.stats.sandwich_covariance.cov_nw_panel &#8212; statsmodels 0.9.0 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="statsmodels.stats.sandwich_covariance.cov_nw_groupsum" href="statsmodels.stats.sandwich_covariance.cov_nw_groupsum.html" />
    <link rel="prev" title="statsmodels.stats.sandwich_covariance.cov_hac" href="statsmodels.stats.sandwich_covariance.cov_hac.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>
<script type="text/javascript">
$.facebox.settings.closeImage = "../_static/closelabel.png"
$.facebox.settings.loadingImage = "../_static/loading.gif"
</script>

  </head><body>
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="statsmodels.stats.sandwich_covariance.cov_nw_groupsum.html" title="statsmodels.stats.sandwich_covariance.cov_nw_groupsum"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statsmodels.stats.sandwich_covariance.cov_hac.html" title="statsmodels.stats.sandwich_covariance.cov_hac"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/forum/?hl=en#!forum/pystatsmodels">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="../dev/index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="../stats.html" accesskey="U">Statistics <code class="docutils literal notranslate"><span class="pre">stats</span></code></a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="statsmodels-stats-sandwich-covariance-cov-nw-panel">
<h1>statsmodels.stats.sandwich_covariance.cov_nw_panel<a class="headerlink" href="#statsmodels-stats-sandwich-covariance-cov-nw-panel" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="statsmodels.stats.sandwich_covariance.cov_nw_panel">
<code class="descclassname">statsmodels.stats.sandwich_covariance.</code><code class="descname">cov_nw_panel</code><span class="sig-paren">(</span><em>results</em>, <em>nlags</em>, <em>groupidx</em>, <em>weights_func=&lt;function weights_bartlett&gt;</em>, <em>use_correction='hac'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statsmodels/stats/sandwich_covariance.html#cov_nw_panel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.stats.sandwich_covariance.cov_nw_panel" title="Permalink to this definition">¶</a></dt>
<dd><p>Panel HAC robust covariance matrix</p>
<p>Assumes we have a panel of time series with consecutive, equal spaced time
periods. Data is assumed to be in long format with time series of each
individual stacked into one array. Panel can be unbalanced.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>results</strong> (<em>result instance</em>) – result of a regression, uses results.model.exog and results.resid
TODO: this should use wexog instead</li>
<li><strong>nlags</strong> (<em>int</em><em> or </em><em>None</em>) – Highest lag to include in kernel window. Currently, no default
because the optimal length will depend on the number of observations
per cross-sectional unit.</li>
<li><strong>groupidx</strong> (<em>list of tuple</em>) – each tuple should contain the start and end index for an individual.
(groupidx might change in future).</li>
<li><strong>weights_func</strong> (<em>callable</em>) – weights_func is called with nlags as argument to get the kernel
weights. default are Bartlett weights</li>
<li><strong>use_correction</strong> (<em>'cluster'</em><em> or </em><em>'hac'</em><em> or </em><em>False</em>) – If False, then no small sample correction is used.
If ‘cluster’ (default), then the same correction as in cov_cluster is
used.
If ‘hac’, then the same correction as in single time series, cov_hac
is used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> – HAC robust covariance matrix for parameter estimates</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray, (k_vars, k_vars)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For nlags=0, this is just White covariance, cov_white.
If kernel is uniform, <cite>weights_uniform</cite>, with nlags equal to the number
of observations per unit in a balance panel, then cov_cluster and
cov_hac_panel are identical.</p>
<p>Tested against STATA <cite>newey</cite> command with same defaults.</p>
<p>Options might change when other kernels besides Bartlett and uniform are
available.</p>
</dd></dl>

</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="statsmodels.stats.sandwich_covariance.cov_hac.html"
                        title="previous chapter">statsmodels.stats.sandwich_covariance.cov_hac</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="statsmodels.stats.sandwich_covariance.cov_nw_groupsum.html"
                        title="next chapter">statsmodels.stats.sandwich_covariance.cov_nw_groupsum</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2017, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>