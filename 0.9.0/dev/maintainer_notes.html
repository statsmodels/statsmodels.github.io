

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Maintainer Notes &#8212; statsmodels 0.9.0 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Testing" href="test_notes.html" />
    <link rel="prev" title="Working with the Statsmodels Code" href="git_notes.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>
<script type="text/javascript">
$.facebox.settings.closeImage = "../_static/closelabel.png"
$.facebox.settings.loadingImage = "../_static/loading.gif"
</script>

  </head><body>
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="test_notes.html" title="Testing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_notes.html" title="Working with the Statsmodels Code"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/forum/?hl=en#!forum/pystatsmodels">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Page</a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="maintainer-notes">
<h1>Maintainer Notes<a class="headerlink" href="#maintainer-notes" title="Permalink to this headline">¶</a></h1>
<p>This is for those with read-write access to upstream. It is recommended to name the upstream
remote something to remind you that it is read-write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">statsmodels</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span>
</pre></div>
</div>
<div class="section" id="git-workflow">
<h2>Git Workflow<a class="headerlink" href="#git-workflow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="grabbing-changes-from-others">
<h3>Grabbing Changes from Others<a class="headerlink" href="#grabbing-changes-from-others" title="Permalink to this headline">¶</a></h3>
<p>If you need to push changes from others, you can link to their repository by doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">contrib</span><span class="o">-</span><span class="n">name</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span>
<span class="n">get</span> <span class="n">fetch</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span>
<span class="n">git</span> <span class="n">branch</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span> <span class="o">--</span><span class="n">track</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span><span class="o">/</span><span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>The rest of the below assumes you are on your or someone else’s branch with the changes you
want to push upstream.</p>
</div>
<div class="section" id="rebasing">
<span id="id1"></span><h3>Rebasing<a class="headerlink" href="#rebasing" title="Permalink to this headline">¶</a></h3>
<p>If there are only a few commits, you can rebase to keep a linear history:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>Rebasing will not automatically close the pull request however, if there is one,
so don’t forget to do this.</p>
</div>
<div class="section" id="merging">
<span id="id2"></span><h3>Merging<a class="headerlink" href="#merging" title="Permalink to this headline">¶</a></h3>
<p>If there is a long series of related commits, then you’ll want to merge. You may ask yourself,
<a class="reference internal" href="#ff-no-ff"><span class="std std-ref">Merging: To Fast-Forward or Not To Fast-Forward</span></a>? See below for more on this choice. Once decided you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>Merging will automaticall close the pull request on github.</p>
</div>
<div class="section" id="check-the-history">
<h3>Check the History<a class="headerlink" href="#check-the-history" title="Permalink to this headline">¶</a></h3>
<p>This is very important. Again, any and all fixes should be made locally before pushing to the
repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">graph</span>
</pre></div>
</div>
<p>This shows the history in a compact way of the current branch. This:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span> <span class="o">-</span><span class="n">p</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span><span class="o">/</span><span class="n">master</span><span class="o">..</span>
</pre></div>
</div>
<p>shows the log of commits excluding those that can be reached from upstream-rw/master, and
including those that can be reached from current HEAD. That is, those changes unique to this
branch versus upstream-rw/master. See <a class="reference external" href="http://matthew-brett.github.io/pydagogue/git_log_dots.html#git-log-dots" title="(in pydagogue v0.2)"><span class="xref std std-ref">Pydagogue</span></a> for more on using
dots with log and also for using <a class="reference external" href="http://matthew-brett.github.io/pydagogue/git_diff_dots.html#git-diff-dots" title="(in pydagogue v0.2)"><span class="xref std std-ref">dots with diff</span></a>.</p>
</div>
<div class="section" id="push-your-feature-branch">
<h3>Push Your Feature Branch<a class="headerlink" href="#push-your-feature-branch" title="Permalink to this headline">¶</a></h3>
<p>All the changes look good? You can push your feature branch after <a class="reference internal" href="#merging"><span class="std std-ref">Merging</span></a> or <a class="reference internal" href="#rebasing"><span class="std std-ref">Rebasing</span></a> by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">upstream</span><span class="o">-</span><span class="n">rw</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span><span class="p">:</span><span class="n">master</span>
</pre></div>
</div>
</div>
<div class="section" id="cherry-picking">
<h3>Cherry-Picking<a class="headerlink" href="#cherry-picking" title="Permalink to this headline">¶</a></h3>
<p>Say you are interested in some commit in another branch, but want to leave the other ones for now.
You can do this with a cherry-pick. Use <cite>git log –oneline</cite> to find the commit that you want to
cherry-pick. Say you want commit <cite>dd9ff35</cite> from the <cite>shiny-new-feature</cite> branch. You want to apply
this commit to master. You simply do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">cherry</span><span class="o">-</span><span class="n">pick</span> <span class="n">dd9ff35</span>
</pre></div>
</div>
<p>And that’s all. This commit is now applied as a new commit in master.</p>
</div>
<div class="section" id="merging-to-fast-forward-or-not-to-fast-forward">
<span id="ff-no-ff"></span><h3>Merging: To Fast-Forward or Not To Fast-Forward<a class="headerlink" href="#merging-to-fast-forward-or-not-to-fast-forward" title="Permalink to this headline">¶</a></h3>
<p>By default, <cite>git merge</cite> is a fast-forward merge. What does this mean, and when do you want to avoid
this?</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/git_merge.png"><img alt="git merge diagram" src="../_images/git_merge.png" style="width: 463.0px; height: 414.0px;" /></a>
<p class="caption"><span class="caption-text">(source <a class="reference external" href="http://nvie.com">nvie.com</a>, post <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">“A successful Git branching model”</a>)</span></p>
</div>
<p>The fast-forward merge does not create a merge commit. This means that the existence of the feature
branch is lost in the history. The fast-forward is the default for Git basically because branches are
cheap and, therefore, <em>usually</em> short-lived. If on the other hand, you have a long-lived feature
branch or are following an iterative workflow on the feature branch (i.e. merge into master, then
go back to feature branch and add more commits), then it makes sense to include only the merge
in the main branch, rather than all the intermediate commits of the feature branch, so you should
use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">ff</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-pull-requests">
<h3>Handling Pull Requests<a class="headerlink" href="#handling-pull-requests" title="Permalink to this headline">¶</a></h3>
<p>You can apply a pull request through <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-fetch.html">fetch</a> and <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-merge.html">merge</a>. In your local
copy of the main repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">contrib</span><span class="o">-</span><span class="n">name</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">contrib</span><span class="o">-</span><span class="n">name</span><span class="o">/</span><span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>Check that the merge applies cleanly and the history looks good. Edit the merge message. Add a short
explanation of what the branch did along with a ‘Closes gh-XXX.’ string. This will auto-close the pull
request and link the ticket and closing commit. To automatically close the issue, you can use any of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gh</span><span class="o">-</span><span class="n">XXX</span>
<span class="n">GH</span><span class="o">-</span><span class="n">XXX</span>
<span class="c1">#XXX</span>
</pre></div>
</div>
<p>in the commit message. Any and all problems need to be taken care of locally before doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="releasing">
<h2>Releasing<a class="headerlink" href="#releasing" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Fix the version number. Open setup.py and set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ISRELEASED</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Clean the working tree with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">xdf</span>
</pre></div>
</div>
<p>But you might want to do a dry-run first:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">xdfn</span>
</pre></div>
</div>
</li>
<li><p class="first">Tag the release. For a release candidate, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">a</span> <span class="n">v0</span><span class="o">.</span><span class="mf">3.0</span><span class="n">rc1</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Version 0.3.0 Release Candidate 1&quot;</span> <span class="mi">7</span><span class="n">b2fb29</span>
</pre></div>
</div>
</li>
<li><p class="first">If on a new minor release (major.minor.micro format) start a new maintenance branch, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">maintenance</span><span class="o">/</span><span class="mf">0.3</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<p>Any bug fixes and maintenance commits intended for the next micro release should be made against master as usual, but tagged with the milestone for the micro release it is intended for. Then merge into master as usual. When ready to do the backports, use the file <code class="docutils literal notranslate"><span class="pre">tools/backport_pr.py</span></code> to identify which PRs need to be backported and to apply them to the maintenance branch. The tag for the release should be made in the maintenance branch.</p>
</li>
<li><p class="first">Upload the source distribution to PyPI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">sdist</span> <span class="o">--</span><span class="n">formats</span><span class="o">=</span><span class="n">gztar</span><span class="p">,</span><span class="nb">zip</span> <span class="n">register</span> <span class="n">upload</span>
</pre></div>
</div>
</li>
<li><p class="first">Go back to setup.py and set <cite>isreleased = False</cite> and bump the major version in master.</p>
</li>
<li><p class="first">Update the version numbers in the statsmodels/statsmodels-website repo. These are in conf.py. Also upload the released version docs to stable/, move stable/ to a placeholder for older version documentation.</p>
</li>
<li><p class="first">Make an announcment</p>
</li>
<li><p class="first">Profit</p>
</li>
</ol>
</div>
<div class="section" id="commit-comments">
<h2>Commit Comments<a class="headerlink" href="#commit-comments" title="Permalink to this headline">¶</a></h2>
<p>Prefix commit messages in the master branch of the main shared repository with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ENH</span><span class="p">:</span> <span class="n">Feature</span> <span class="n">implementation</span>
<span class="n">BUG</span><span class="p">:</span> <span class="n">Bug</span> <span class="n">fix</span>
<span class="n">STY</span><span class="p">:</span> <span class="n">Coding</span> <span class="n">style</span> <span class="n">changes</span> <span class="p">(</span><span class="n">indenting</span><span class="p">,</span> <span class="n">braces</span><span class="p">,</span> <span class="n">code</span> <span class="n">cleanup</span><span class="p">)</span>
<span class="n">DOC</span><span class="p">:</span> <span class="n">Sphinx</span> <span class="n">documentation</span><span class="p">,</span> <span class="n">docstring</span><span class="p">,</span> <span class="ow">or</span> <span class="n">comment</span> <span class="n">changes</span>
<span class="n">CMP</span><span class="p">:</span> <span class="n">Compiled</span> <span class="n">code</span> <span class="n">issues</span><span class="p">,</span> <span class="n">regenerating</span> <span class="n">C</span> <span class="n">code</span> <span class="k">with</span> <span class="n">Cython</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span>
<span class="n">REL</span><span class="p">:</span> <span class="n">Release</span> <span class="n">related</span> <span class="n">commit</span>
<span class="n">TST</span><span class="p">:</span> <span class="n">Change</span> <span class="n">to</span> <span class="n">a</span> <span class="n">test</span><span class="p">,</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">test</span><span class="o">.</span> <span class="n">Only</span> <span class="n">used</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">directly</span> <span class="n">related</span> <span class="n">to</span> <span class="n">a</span> <span class="n">bug</span><span class="o">.</span>
<span class="n">REF</span><span class="p">:</span> <span class="n">Refactoring</span> <span class="n">changes</span>
</pre></div>
</div>
</div>
</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maintainer Notes</a><ul>
<li><a class="reference internal" href="#git-workflow">Git Workflow</a><ul>
<li><a class="reference internal" href="#grabbing-changes-from-others">Grabbing Changes from Others</a></li>
<li><a class="reference internal" href="#rebasing">Rebasing</a></li>
<li><a class="reference internal" href="#merging">Merging</a></li>
<li><a class="reference internal" href="#check-the-history">Check the History</a></li>
<li><a class="reference internal" href="#push-your-feature-branch">Push Your Feature Branch</a></li>
<li><a class="reference internal" href="#cherry-picking">Cherry-Picking</a></li>
<li><a class="reference internal" href="#merging-to-fast-forward-or-not-to-fast-forward">Merging: To Fast-Forward or Not To Fast-Forward</a></li>
<li><a class="reference internal" href="#handling-pull-requests">Handling Pull Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#releasing">Releasing</a></li>
<li><a class="reference internal" href="#commit-comments">Commit Comments</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="git_notes.html"
                        title="previous chapter">Working with the Statsmodels Code</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="test_notes.html"
                        title="next chapter">Testing</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/dev/maintainer_notes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2017, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>