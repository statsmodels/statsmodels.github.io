
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Maintainer Notes &mdash; statsmodels 0.6.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="statsmodels 0.6.1 documentation" href="../index.html" />
    <link rel="up" title="Developer Page" href="index.html" />
    <link rel="next" title="Testing" href="test_notes.html" />
    <link rel="prev" title="Working with the Statsmodels Code" href="git_notes.html" />
<link rel="stylesheet" href="../../_static/facebox.css" type="text/css" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>

  </head>
  <body role="document">
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="test_notes.html" title="Testing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_notes.html" title="Working with the Statsmodels Code"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/group/pystatsmodels?hl=en">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Page</a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="maintainer-notes">
<h1>Maintainer Notes<a class="headerlink" href="#maintainer-notes" title="Permalink to this headline">¶</a></h1>
<p>This is for those with read-write access to upstream. It is recommended to name the upstream
remote something to remind you that it is read-write:</p>
<div class="highlight-python"><div class="highlight"><pre>git remote add upstream-rw git@github.com:statsmodels/statsmodels.git
git fetch upstream-rw
</pre></div>
</div>
<div class="section" id="git-workflow">
<h2>Git Workflow<a class="headerlink" href="#git-workflow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="grabbing-changes-from-others">
<h3>Grabbing Changes from Others<a class="headerlink" href="#grabbing-changes-from-others" title="Permalink to this headline">¶</a></h3>
<p>If you need to push changes from others, you can link to their repository by doing:</p>
<div class="highlight-python"><div class="highlight"><pre>git remote add contrib-name git://github.com/contrib-name/statsmodels.git
get fetch contrib-name
git branch shiny-new-feature --track contrib-name/shiny-new-feature
git checkout shiny-new-feature
</pre></div>
</div>
<p>The rest of the below assumes you are on your or someone else&#8217;s branch with the changes you
want to push upstream.</p>
</div>
<div class="section" id="rebasing">
<span id="id1"></span><h3>Rebasing<a class="headerlink" href="#rebasing" title="Permalink to this headline">¶</a></h3>
<p>If there are only a few commits, you can rebase to keep a linear history:</p>
<div class="highlight-python"><div class="highlight"><pre>git fetch upstream-rw
git rebase upstream-rw/master
</pre></div>
</div>
<p>Rebasing will not automatically close the pull request however, if there is one,
so don&#8217;t forget to do this.</p>
</div>
<div class="section" id="merging">
<span id="id2"></span><h3>Merging<a class="headerlink" href="#merging" title="Permalink to this headline">¶</a></h3>
<p>If there is a long series of related commits, then you&#8217;ll want to merge. You may ask yourself,
<a class="reference internal" href="#ff-no-ff"><span>Merging: To Fast-Forward or Not To Fast-Forward</span></a>? See below for more on this choice. Once decided you can do:</p>
<div class="highlight-python"><div class="highlight"><pre>git fetch upstream-rw
git merge --no-ff upstream-rw/master
</pre></div>
</div>
<p>Merging will automaticall close the pull request on github.</p>
</div>
<div class="section" id="check-the-history">
<h3>Check the History<a class="headerlink" href="#check-the-history" title="Permalink to this headline">¶</a></h3>
<p>This is very important. Again, any and all fixes should be made locally before pushing to the
repository:</p>
<div class="highlight-python"><div class="highlight"><pre>git log --oneline --graph
</pre></div>
</div>
<p>This shows the history in a compact way of the current branch. This:</p>
<div class="highlight-python"><div class="highlight"><pre>git log -p upstream-rw/master..
</pre></div>
</div>
<p>shows the log of commits excluding those that can be reached from upstream-rw/master, and
including those that can be reached from current HEAD. That is, those changes unique to this
branch versus upstream-rw/master. See <a class="reference external" href="http://matthew-brett.github.io/pydagogue/git_log_dots.html#git-log-dots" title="(in pydagogue v0.2)"><span class="xref std std-ref">Pydagogue</span></a> for more on using
dots with log and also for using <a class="reference external" href="http://matthew-brett.github.io/pydagogue/git_diff_dots.html#git-diff-dots" title="(in pydagogue v0.2)"><span class="xref std std-ref">dots with diff</span></a>.</p>
</div>
<div class="section" id="push-your-feature-branch">
<h3>Push Your Feature Branch<a class="headerlink" href="#push-your-feature-branch" title="Permalink to this headline">¶</a></h3>
<p>All the changes look good? You can push your feature branch after <a class="reference internal" href="#merging"><span>Merging</span></a> or <a class="reference internal" href="#rebasing"><span>Rebasing</span></a> by:</p>
<div class="highlight-python"><div class="highlight"><pre>git push upstream-rw shiny-new-feature:master
</pre></div>
</div>
</div>
<div class="section" id="cherry-picking">
<h3>Cherry-Picking<a class="headerlink" href="#cherry-picking" title="Permalink to this headline">¶</a></h3>
<p>Say you are interested in some commit in another branch, but want to leave the other ones for now.
You can do this with a cherry-pick. Use <cite>git log &#8211;oneline</cite> to find the commit that you want to
cherry-pick. Say you want commit <cite>dd9ff35</cite> from the <cite>shiny-new-feature</cite> branch. You want to apply
this commit to master. You simply do:</p>
<div class="highlight-python"><div class="highlight"><pre>git checkout master
git cherry-pick dd9ff35
</pre></div>
</div>
<p>And that&#8217;s all. This commit is now applied as a new commit in master.</p>
</div>
<div class="section" id="merging-to-fast-forward-or-not-to-fast-forward">
<span id="ff-no-ff"></span><h3>Merging: To Fast-Forward or Not To Fast-Forward<a class="headerlink" href="#merging-to-fast-forward-or-not-to-fast-forward" title="Permalink to this headline">¶</a></h3>
<p>By default, <cite>git merge</cite> is a fast-forward merge. What does this mean, and when do you want to avoid
this?</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/git_merge.png"><img alt="git merge diagram" src="../_images/git_merge.png" style="width: 463.0px; height: 414.0px;" /></a>
<p class="caption"><span class="caption-text">(source <a class="reference external" href="http://nvie.com">nvie.com</a>, post <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">&#8220;A successful Git branching model&#8221;</a>)</span></p>
</div>
<p>The fast-forward merge does not create a merge commit. This means that the existence of the feature
branch is lost in the history. The fast-forward is the default for Git basically because branches are
cheap and, therefore, <em>usually</em> short-lived. If on the other hand, you have a long-lived feature
branch or are following an iterative workflow on the feature branch (i.e. merge into master, then
go back to feature branch and add more commits), then it makes sense to include only the merge
in the main branch, rather than all the intermediate commits of the feature branch, so you should
use:</p>
<div class="highlight-python"><div class="highlight"><pre>git merge --no-ff
</pre></div>
</div>
</div>
<div class="section" id="handling-pull-requests">
<h3>Handling Pull Requests<a class="headerlink" href="#handling-pull-requests" title="Permalink to this headline">¶</a></h3>
<p>You can apply a pull request through <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-fetch.html">fetch</a> and <a class="reference external" href="https://www.kernel.org/pub/software/scm/git/docs/git-merge.html">merge</a>. In your local
copy of the main repo:</p>
<div class="highlight-python"><div class="highlight"><pre>git checkout master
git remote add contrib-name git://github.com/contrib-name/statsmodels.git
git fetch contrib-name
git merge contrib-name/shiny-new-feature
</pre></div>
</div>
<p>Check that the merge applies cleanly and the history looks good. Edit the merge message. Add a short
explanation of what the branch did along with a &#8216;Closes gh-XXX.&#8217; string. This will auto-close the pull
request and link the ticket and closing commit. To automatically close the issue, you can use any of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">gh</span><span class="o">-</span><span class="n">XXX</span>
<span class="n">GH</span><span class="o">-</span><span class="n">XXX</span>
<span class="c">#XXX</span>
</pre></div>
</div>
<p>in the commit message. Any and all problems need to be taken care of locally before doing:</p>
<div class="highlight-python"><div class="highlight"><pre>git push origin master
</pre></div>
</div>
</div>
</div>
<div class="section" id="releasing">
<h2>Releasing<a class="headerlink" href="#releasing" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Fix the version number. Open setup.py and set:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ISRELEASED</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Clean the working tree with:</p>
<div class="highlight-python"><div class="highlight"><pre>git clean -xdf
</pre></div>
</div>
<p>But you might want to do a dry-run first:</p>
<div class="highlight-python"><div class="highlight"><pre>git clean -xdfn
</pre></div>
</div>
</li>
<li><p class="first">Tag the release. For a release candidate, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>git tag -a v0.3.0rc1 -m &quot;Version 0.3.0 Release Candidate 1&quot; 7b2fb29
</pre></div>
</div>
</li>
<li><p class="first">If on a new minor release (major.minor.micro format) start a new maintenance branch, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>git checkout -b maintenance/0.3.x
</pre></div>
</div>
<p>Any bug fixes and maintenance commits intended for the next micro release should be made against master as usual, but tagged with the milestone for the micro release it is intended for. Then merge into master as usual. When ready to do the backports, use the file <code class="docutils literal"><span class="pre">tools/backport_pr.py</span></code> to identify which PRs need to be backported and to apply them to the maintenance branch. The tag for the release should be made in the maintenance branch.</p>
</li>
<li><p class="first">Upload the source distribution to PyPI:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py sdist --formats=gztar,zip register upload
</pre></div>
</div>
</li>
<li><p class="first">Go back to setup.py and set <cite>isreleased = False</cite> and bump the major version in master.</p>
</li>
<li><p class="first">Update the version numbers in the statsmodels/statsmodels-website repo. These are in conf.py. Also upload the released version docs to stable/, move stable/ to a placeholder for older version documentation.</p>
</li>
<li><p class="first">Make an announcment</p>
</li>
<li><p class="first">Profit</p>
</li>
</ol>
</div>
<div class="section" id="commit-comments">
<h2>Commit Comments<a class="headerlink" href="#commit-comments" title="Permalink to this headline">¶</a></h2>
<p>Prefix commit messages in the master branch of the main shared repository with the following:</p>
<div class="highlight-python"><div class="highlight"><pre>ENH: Feature implementation
BUG: Bug fix
STY: Coding style changes (indenting, braces, code cleanup)
DOC: Sphinx documentation, docstring, or comment changes
CMP: Compiled code issues, regenerating C code with Cython, etc.
REL: Release related commit
TST: Change to a test, adding a test. Only used if not directly related to a bug.
REF: Refactoring changes
</pre></div>
</div>
</div>
<div class="section" id="vbench">
<h2>vbench<a class="headerlink" href="#vbench" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="vbench.html#vbenchdoc"><span>vbench</span></a> notes for working with the <a class="reference external" href="http://statsmodels.sourceforge.net/vbench">statsmodels vbench suite</a>. The github repository is available <a class="reference external" href="https://github.com/statsmodels/vbench">here</a>.</p>
</div>
</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maintainer Notes</a><ul>
<li><a class="reference internal" href="#git-workflow">Git Workflow</a><ul>
<li><a class="reference internal" href="#grabbing-changes-from-others">Grabbing Changes from Others</a></li>
<li><a class="reference internal" href="#rebasing">Rebasing</a></li>
<li><a class="reference internal" href="#merging">Merging</a></li>
<li><a class="reference internal" href="#check-the-history">Check the History</a></li>
<li><a class="reference internal" href="#push-your-feature-branch">Push Your Feature Branch</a></li>
<li><a class="reference internal" href="#cherry-picking">Cherry-Picking</a></li>
<li><a class="reference internal" href="#merging-to-fast-forward-or-not-to-fast-forward">Merging: To Fast-Forward or Not To Fast-Forward</a></li>
<li><a class="reference internal" href="#handling-pull-requests">Handling Pull Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#releasing">Releasing</a></li>
<li><a class="reference internal" href="#commit-comments">Commit Comments</a></li>
<li><a class="reference internal" href="#vbench">vbench</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="git_notes.html"
                        title="previous chapter">Working with the Statsmodels Code</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="test_notes.html"
                        title="next chapter">Testing</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/dev/maintainer_notes.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2009-2013, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>