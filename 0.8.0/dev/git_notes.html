
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Working with the Statsmodels Code &#8212; statsmodels 0.8.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Maintainer Notes" href="maintainer_notes.html" />
    <link rel="prev" title="Developer Page" href="index.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>

  </head>
  <body role="document">
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="maintainer_notes.html" title="Maintainer Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer Page"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/group/pystatsmodels?hl=en">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer Page</a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="working-with-the-statsmodels-code">
<h1>Working with the Statsmodels Code<a class="headerlink" href="#working-with-the-statsmodels-code" title="Permalink to this headline">¶</a></h1>
<div class="section" id="github">
<h2>Github<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h2>
<p>The <cite>statsmodels</cite> code base is hosted on <a class="reference external" href="https://github.com/statsmodels/statsmodels">Github</a>. To
contribute you will need to <a class="reference external" href="https://github.com/join">sign up for a free Github account</a>.</p>
</div>
<div class="section" id="version-control-and-git">
<h2>Version Control and Git<a class="headerlink" href="#version-control-and-git" title="Permalink to this headline">¶</a></h2>
<p>We use the <a class="reference external" href="http://git-scm.com/">Git</a> version control system for development.
Git allows many people to work together on the same project.  In a nutshell, it
allows you to make changes to the code independent of others who may also be
working on the code and allows you to easily contribute your changes to the
codebase. It also keeps a complete history of all changes to the code, so you
can easily undo changes or see when a change was made, by whom, and why.</p>
<p>To install and configure Git, and to setup SSH keys, see
<a class="reference external" href="https://help.github.com/articles/set-up-git">setting up git</a>.</p>
<p>To learn more about Git, you may want to visit:</p>
<ul class="simple">
<li><a class="reference external" href="http://git-scm.com/documentation">Git documentation (book and videos)</a></li>
<li><a class="reference external" href="https://help.github.com/">Github help pages</a></li>
<li><a class="reference external" href="http://docs.scipy.org/doc/numpy/dev/index.html">NumPy documentation</a></li>
<li><a class="reference external" href="http://matthew-brett.github.io/pydagogue/">Matthew Brett&#8217;s Pydagogue</a></li>
</ul>
<p>Below, we describe the bare minimum git commands you need to contribute to
<cite>statsmodels</cite>.</p>
</div>
<div class="section" id="statsmodels-git-github-workflow">
<h2>Statsmodels Git/Github Workflow<a class="headerlink" href="#statsmodels-git-github-workflow" title="Permalink to this headline">¶</a></h2>
<div class="section" id="forking-and-cloning">
<h3>Forking and cloning<a class="headerlink" href="#forking-and-cloning" title="Permalink to this headline">¶</a></h3>
<p>After setting up git, you need to fork the main <cite>statsmodels</cite> repository. To do
this, visit the <a class="reference external" href="https://github.com/statsmodels/statsmodels">statsmodels project page</a> and hit the fork button (see
instructions for
<a class="reference external" href="https://help.github.com/articles/fork-a-repo">forking a repo</a> for details).
This should take you to your fork&#8217;s page.</p>
<p>Then, you want to clone the fork to your machine:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">user</span><span class="o">-</span><span class="n">name</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span> <span class="n">statsmodels</span><span class="o">-</span><span class="n">yourname</span>
<span class="n">cd</span> <span class="n">statsmodels</span><span class="o">-</span><span class="n">yourname</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">upstream</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>The first line creates a directory named <cite>statsmodels-yourname</cite>. The third line
sets-up a read-only connection to the upstream statsmodels repository. This
will allow you to periodically update your local code with changes in the
upstream.</p>
</div>
<div class="section" id="create-a-branch">
<h3>Create a Branch<a class="headerlink" href="#create-a-branch" title="Permalink to this headline">¶</a></h3>
<p>All changes to the code should be made in a feature branch. To create a branch, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>Doing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span>
</pre></div>
</div>
<p>will give something like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
  <span class="n">master</span>
</pre></div>
</div>
<p>to indicate that you are now on the <cite>shiny-new-feature</cite> branch.</p>
</div>
<div class="section" id="making-changes">
<h3>Making changes<a class="headerlink" href="#making-changes" title="Permalink to this headline">¶</a></h3>
<p>Hack away! Make any changes that you want, but please keep the work in your
branch completely confined to one specific topic, bugfix, or feature
implementation. You can work across multiple files and have many commits, but
the changes should all be related to the feature of the feature branch,
whatever that may be.</p>
<p>Now imagine that you changed the file <cite>foo.py</cite>. You can see your changes by
typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
<p>This will print something like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># On branch shiny-new-feature</span>
<span class="c1"># Changes not staged for commit:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   relative/path/to/foo.py</span>
<span class="c1">#</span>
<span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Before you can commit these changes, you have to <cite>add</cite>, or <cite>stage</cite>, the
changes. You can do this by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Then check the status to make sure your commit looks okay:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
<p>should give something like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># On branch shiny-new-feature</span>
<span class="c1"># Changes to be committed:</span>
<span class="c1">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   /relative/path/to/foo.py</span>
<span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="pushing-your-changes">
<h3>Pushing your changes<a class="headerlink" href="#pushing-your-changes" title="Permalink to this headline">¶</a></h3>
<p>At any time you can push your feature branch (and any changes) to your github
(fork) repository by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>Here <cite>origin</cite> is the default name given to your remote repository. You can see
the remote repositories by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
<p>If you added the upstream repository as described above you will see something
like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">origin</span>  <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">yourname</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span> <span class="p">(</span><span class="n">fetch</span><span class="p">)</span>
<span class="n">origin</span>  <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">yourname</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span> <span class="p">(</span><span class="n">push</span><span class="p">)</span>
<span class="n">upstream</span>        <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span> <span class="p">(</span><span class="n">fetch</span><span class="p">)</span>
<span class="n">upstream</span>        <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">/</span><span class="n">statsmodels</span><span class="o">.</span><span class="n">git</span> <span class="p">(</span><span class="n">push</span><span class="p">)</span>
</pre></div>
</div>
<p>Before you push any commits, however, it is <em>highly</em> recommended that you make
sure what you are pushing makes sense and looks clean. You can review your
change history by:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">oneline</span> <span class="o">--</span><span class="n">graph</span>
</pre></div>
</div>
<p>It pays to take care of things locally before you push them to github. So when
in doubt, don&#8217;t push.  Also see the advice on keeping your history clean in
<a class="reference internal" href="#merge-vs-rebase"><span class="std std-ref">Merging vs. Rebasing</span></a>.</p>
</div>
<div class="section" id="pull-requests">
<span id="id2"></span><h3>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h3>
<p>When you are ready to ask for a code review, we recommend that you file a pull
request. Before you do so you should check your changeset yourself. You can do
this by using <a class="reference external" href="https://github.com/blog/612-introducing-github-compare-view">compare view</a> on github.</p>
<ol class="arabic simple">
<li>Navigate to your repository on github.</li>
<li>Click on <cite>Branch List</cite></li>
<li>Click on the <cite>Compare</cite> button for your feature branch, <cite>shiny-new-feature</cite>.</li>
<li>Select the <cite>base</cite> and <cite>compare</cite> branches, if necessary. This will be <cite>master</cite> and
<cite>shiny-new-feature</cite>, respectively.</li>
<li>From here you will see a nice overview of your changes. If anything is amiss, you can fix it.</li>
</ol>
<p>If everything looks good you are read to make a <a class="reference external" href="https://help.github.com/articles/using-pull-requests">pull request</a>.</p>
<ol class="arabic simple">
<li>Navigate to your repository on github.</li>
<li>Click on the <cite>Pull Request</cite> button.</li>
<li>You can then click on <cite>Commits</cite> and <cite>Files Changed</cite> to make sure everything looks okay one last time.</li>
<li>Write a description of your changes in the <cite>Preview Discussion</cite> tab.</li>
<li>Click <cite>Send Pull Request</cite>.</li>
</ol>
<p>Your request will then be reviewed. If you need to go back and make more
changes, you can make them in your branch and push them to github and the pull
request will be automatically updated.</p>
<p>One last thing to note. If there has been a lot of work in upstream/master
since you started your patch, you might want to rebase. However, you can
probably get away with not rebasing if these changes are unrelated to the work
you have done in the <cite>shiny-new-feature</cite> branch. If you can avoid it, then
don&#8217;t rebase. If you have to, try to do it once and when you are at the end of
your changes. Read on for some notes on <a class="reference internal" href="#merge-vs-rebase"><span class="std std-ref">Merging vs. Rebasing</span></a>.</p>
</div>
</div>
<div class="section" id="advanced-topics">
<h2>Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="merging-vs-rebasing">
<span id="merge-vs-rebase"></span><h3>Merging vs. Rebasing<a class="headerlink" href="#merging-vs-rebasing" title="Permalink to this headline">¶</a></h3>
<p>This is a topic that has been discussed at great length and with considerable
more expertise than we can offer here. This section will provide some resources
for further reading and some advice. The focus, though, will be for those who
wish to submit pull requests for a feature branch. For these cases rebase
should be preferred.</p>
<p>A rebase replays commits from one branch on top of another branch to preserve a
linear history. Recall that your commits were tested against a (possibly) older
version of master from which you started your branch, so if you rebase, you
could introduce bugs. However, if you have only a few commits, this might not
be such a concern. One great place to start learning about rebase is
<a class="reference external" href="http://matthew-brett.github.io/pydagogue/rebase_without_tears.html#actual-rebase" title="(in pydagogue v0.2)"><span class="xref std std-ref">rebasing without tears</span></a>.  In particular, <a class="reference external" href="http://matthew-brett.github.io/pydagogue/rebase_without_tears.html#safety">heed
the warnings</a>.
Namely, <strong>always make a new branch before doing a rebase</strong>. This is good
general advice for working with git. I would also add <strong>never use rebase on
work that has already been published</strong>. If another developer is using your
work, don&#8217;t rebase!!</p>
<p>As for merging, <strong>never merge from trunk into your feature branch</strong>. You will,
however, want to check that your work will merge cleanly into trunk. This will
help out the reviewers. You can do this in your local repository by merging
your work into your master (or any branch that tracks remote master) and
<a class="reference internal" href="test_notes.html#run-tests"><span class="std std-ref">Running the Test Suite</span></a>.</p>
</div>
<div class="section" id="deleting-branches">
<h3>Deleting Branches<a class="headerlink" href="#deleting-branches" title="Permalink to this headline">¶</a></h3>
<p>Once your feature branch is accepted into upstream, you might want to get rid
of it. First you&#8217;ll want to merge upstream master into your branch. That way
git will know that it can safely delete your branch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">upstream</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">upstream</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>Then you can just do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span> <span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span>
</pre></div>
</div>
<p>Make sure you use a lower-case -d. That way, git will complain if your feature
branch has not actually been merged. The branch will still exist on github
however. To delete the branch on github, do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="p">:</span><span class="n">shiny</span><span class="o">-</span><span class="n">new</span><span class="o">-</span><span class="n">feature</span> <span class="n">branch</span>
</pre></div>
</div>
</div>
<div class="section" id="git-for-bzr-users">
<h3>Git for Bzr Users<a class="headerlink" href="#git-for-bzr-users" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="o">!=</span> <span class="n">bzr</span> <span class="n">pull</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="o">=</span> <span class="n">git</span> <span class="n">fetch</span> <span class="o">+</span> <span class="n">git</span> <span class="n">merge</span>
</pre></div>
</div>
<p>Of course, you could:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="o">--</span><span class="n">rebase</span> <span class="o">=</span> <span class="n">git</span> <span class="n">fetch</span> <span class="o">+</span> <span class="n">git</span> <span class="n">rebase</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">merge</span> <span class="o">!=</span> <span class="n">bzr</span> <span class="n">merge</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">==</span> <span class="n">bzr</span> <span class="n">merge</span> <span class="o">+</span> <span class="n">bzr</span> <span class="n">commit</span>
<span class="n">git</span> <span class="n">merge</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">commit</span> <span class="o">==</span> <span class="n">bzr</span> <span class="n">merge</span>
</pre></div>
</div>
</div>
</div>
</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Working with the Statsmodels Code</a><ul>
<li><a class="reference internal" href="#github">Github</a></li>
<li><a class="reference internal" href="#version-control-and-git">Version Control and Git</a></li>
<li><a class="reference internal" href="#statsmodels-git-github-workflow">Statsmodels Git/Github Workflow</a><ul>
<li><a class="reference internal" href="#forking-and-cloning">Forking and cloning</a></li>
<li><a class="reference internal" href="#create-a-branch">Create a Branch</a></li>
<li><a class="reference internal" href="#making-changes">Making changes</a></li>
<li><a class="reference internal" href="#pushing-your-changes">Pushing your changes</a></li>
<li><a class="reference internal" href="#pull-requests">Pull Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-topics">Advanced Topics</a><ul>
<li><a class="reference internal" href="#merging-vs-rebasing">Merging vs. Rebasing</a></li>
<li><a class="reference internal" href="#deleting-branches">Deleting Branches</a></li>
<li><a class="reference internal" href="#git-for-bzr-users">Git for Bzr Users</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Developer Page</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="maintainer_notes.html"
                        title="next chapter">Maintainer Notes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/dev/git_notes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2017, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.
    </div>
  </body>
</html>