
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>statsmodels.tsa.statespace.tools.companion_matrix &#8212; statsmodels 0.8.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/statsmodels_hybi_favico.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="statsmodels.tsa.statespace.tools.diff" href="statsmodels.tsa.statespace.tools.diff.html" />
    <link rel="prev" title="statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother" href="statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother.html" />
<link rel="stylesheet" href="../_static/examples.css" type="text/css" />
<link rel="stylesheet" href="../_static/facebox.css" type="text/css" />
<script type="text/javascript" src="../_static/scripts.js">
</script>
<script type="text/javascript" src="../_static/facebox.js">
</script>

  </head>
  <body role="document">
<div class="headerwrap">
    <div class = "header">
        
        <a href = "../index.html">
<img src="../_static/statsmodels_hybi_banner.png" alt="Logo"
    style="padding-left: 15px"/></a>
        
    </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="statsmodels.tsa.statespace.tools.diff.html" title="statsmodels.tsa.statespace.tools.diff"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother.html" title="statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother"
             accesskey="P">previous</a> |</li>
<li><a href ="../install.html">Install</a></li> &nbsp;|&nbsp;
<li><a href="https://groups.google.com/group/pystatsmodels?hl=en">Support</a></li> &nbsp;|&nbsp;
<li><a href="https://github.com/statsmodels/statsmodels/issues">Bugs</a></li> &nbsp;|&nbsp;
<li><a href="../dev/index.html">Develop</a></li> &nbsp;|&nbsp;
<li><a href="../examples/index.html">Examples</a></li> &nbsp;|&nbsp;
<li><a href="../faq.html">FAQ</a></li> &nbsp;|&nbsp;

          <li class="nav-item nav-item-1"><a href="../statespace.html" accesskey="U">Time Series Analysis by State Space Methods <code class="docutils literal"><span class="pre">statespace</span></code></a> |</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            




  <div class="section" id="statsmodels-tsa-statespace-tools-companion-matrix">
<h1>statsmodels.tsa.statespace.tools.companion_matrix<a class="headerlink" href="#statsmodels-tsa-statespace-tools-companion-matrix" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="statsmodels.tsa.statespace.tools.companion_matrix">
<code class="descclassname">statsmodels.tsa.statespace.tools.</code><code class="descname">companion_matrix</code><span class="sig-paren">(</span><em>polynomial</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statsmodels/tsa/statespace/tools.html#companion_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.tsa.statespace.tools.companion_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a companion matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>polynomial</strong> : array_like or list</p>
<blockquote>
<div><p>If an iterable, interpreted as the coefficients of the polynomial from
which to form the companion matrix. Polynomial coefficients are in
order of increasing degree, and may be either scalars (as in an AR(p)
model) or coefficient matrices (as in a VAR(p) model). If an integer,
it is interpereted as the size of a companion matrix of a scalar
polynomial, where the polynomial coefficients are initialized to zeros.
If a matrix polynomial is passed, <img class="math" src="../_images/math/e96061135084d3bf4eda8e165dee96b7572b3e81.png" alt="C_0" style="vertical-align: -3px"/> may be set to the scalar
value 1 to indicate an identity matrix (doing so will improve the speed
of the companion matrix creation).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>companion_matrix</strong> : array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Given coefficients of a lag polynomial of the form:</p>
<div class="math">
<p><img src="../_images/math/c69b99d5b8e3362c70f35399b15b8133a24617f6.png" alt="c(L) = c_0 + c_1 L + \dots + c_p L^p"/></p>
</div><p>returns a matrix of the form</p>
<div class="math">
<p><img src="../_images/math/44df0297e056a97b476139385ee143906b12e239.png" alt="\begin{bmatrix}
    \phi_1 &amp; 1      &amp; 0 &amp; \cdots &amp; 0 \\
    \phi_2 &amp; 0      &amp; 1 &amp;        &amp; 0 \\
    \vdots &amp;        &amp;   &amp; \ddots &amp; 0 \\
           &amp;        &amp;   &amp;        &amp; 1 \\
    \phi_n &amp; 0      &amp; 0 &amp; \cdots &amp; 0 \\
\end{bmatrix}"/></p>
</div><p>where some or all of the <img class="math" src="../_images/math/f1efa017162fce0fd957a3aec78f059ef70a2bbc.png" alt="\phi_i" style="vertical-align: -4px"/> may be non-zero (if <cite>polynomial</cite> is
None, then all are equal to zero).</p>
<p>If the coefficients provided are scalars <img class="math" src="../_images/math/d297a1392f6aad3c612dc4d852b7f28b027ac1a2.png" alt="(c_0, c_1, \dots, c_p)" style="vertical-align: -6px"/>,
then the companion matrix is an <img class="math" src="../_images/math/1b3f6a6e3b9a49ba77e2aaaf8515fa39c60f5bbc.png" alt="n \times n" style="vertical-align: 0px"/> matrix formed with the
elements in the first column defined as
<img class="math" src="../_images/math/a9bfc90927c5392e819f978563059939c906dd8f.png" alt="\phi_i = -\frac{c_i}{c_0}, i \in 1, \dots, p" style="vertical-align: -8px"/>.</p>
<p>If the coefficients provided are matrices <img class="math" src="../_images/math/ef5176badf82e62e065942d68b72dc3bab3fc799.png" alt="(C_0, C_1, \dots, C_p)" style="vertical-align: -6px"/>,
each of shape <img class="math" src="../_images/math/89f446232955b8559d727c272ec94b88571ded51.png" alt="(m, m)" style="vertical-align: -4px"/>, then the companion matrix is an
<img class="math" src="../_images/math/e8d2262e54a73560e49224fc92c614a6676748a0.png" alt="nm \times nm" style="vertical-align: 0px"/> matrix formed with the elements in the first column
defined as <img class="math" src="../_images/math/f89618c4327122e6d6496531f864ab47dfaefa4c.png" alt="\phi_i = -C_0^{-1} C_i', i \in 1, \dots, p" style="vertical-align: -5px"/>.</p>
<p>It is important to understand the expected signs of the coefficients. A
typical AR(p) model is written as:</p>
<div class="math">
<p><img src="../_images/math/ba42dc59db82453a74155de71aee311bd37fa52c.png" alt="y_t = a_1 y_{t-1} + \dots + a_p y_{t-p} + \varepsilon_t"/></p>
</div><p>This can be rewritten as:</p>
<div class="math">
<p><img src="../_images/math/4491b6ebab30bac1bee2fe573e54838a9af10fac.png" alt="(1 - a_1 L - \dots - a_p L^p )y_t = \varepsilon_t \\
(1 + c_1 L + \dots + c_p L^p )y_t = \varepsilon_t \\
c(L) y_t = \varepsilon_t"/></p>
</div><p>The coefficients from this form are defined to be <img class="math" src="../_images/math/d76724ac11980e9f417bc8970d348dd53103604f.png" alt="c_i = - a_i" style="vertical-align: -3px"/>, and
it is the <img class="math" src="../_images/math/a89ec4ec5ea68824cae8544bc968018fd330ea6d.png" alt="c_i" style="vertical-align: -3px"/> coefficients that this function expects to be
provided.</p>
</dd></dl>

</div>





          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother.html"
                        title="previous chapter">statsmodels.tsa.statespace.kalman_smoother.SmootherResults.update_smoother</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="statsmodels.tsa.statespace.tools.diff.html"
                        title="next chapter">statsmodels.tsa.statespace.tools.diff</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/statsmodels.tsa.statespace.tools.companion_matrix.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2017, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.
    </div>
  </body>
</html>